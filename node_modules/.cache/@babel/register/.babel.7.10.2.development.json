{
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/index.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _app = _interopRequireDefault(require(\"./app.server\"));\n\nvar _app2 = require(\"./app.config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//import officeFactory from \"./office.factory\";\n//import healthCheck from \"./app.healthcheck\";\nconst {\n  host,\n  port\n} = (0, _app2.getServerConfig)();\n\nconst server = _app.default.listen(port, host, undefined, () => {\n  console.log(`Running on http://${host}:${port}`);\n}); //healthCheck(server);\n//officeFactory(server).start();\n\n\nmodule.exports = server;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImhvc3QiLCJwb3J0Iiwic2VydmVyIiwiYXBwIiwibGlzdGVuIiwidW5kZWZpbmVkIiwiY29uc29sZSIsImxvZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBR0E7Ozs7QUFGQTtBQUNBO0FBR0EsTUFBTTtBQUFFQSxFQUFBQSxJQUFGO0FBQVFDLEVBQUFBO0FBQVIsSUFBaUIsNEJBQXZCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0MsYUFBSUMsTUFBSixDQUFXSCxJQUFYLEVBQWlCRCxJQUFqQixFQUF1QkssU0FBdkIsRUFBa0MsTUFBTTtBQUNyREMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEscUJBQW9CUCxJQUFLLElBQUdDLElBQUssRUFBOUM7QUFDRCxDQUZjLENBQWYsQyxDQUlBO0FBQ0E7OztBQUVBTyxNQUFNLENBQUNDLE9BQVAsR0FBaUJQLE1BQWpCIiwic291cmNlUm9vdCI6Ii9ob21lL250MDE1OC9Eb2N1bWVudG9zL01hdGhldXMvc2FsZXNfd2hhdHNhcHAvYmFja2VuZC9hcHAvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFwcCBmcm9tIFwiLi9hcHAuc2VydmVyXCI7XG4vL2ltcG9ydCBvZmZpY2VGYWN0b3J5IGZyb20gXCIuL29mZmljZS5mYWN0b3J5XCI7XG4vL2ltcG9ydCBoZWFsdGhDaGVjayBmcm9tIFwiLi9hcHAuaGVhbHRoY2hlY2tcIjtcbmltcG9ydCB7IGdldFNlcnZlckNvbmZpZyB9IGZyb20gXCIuL2FwcC5jb25maWdcIjtcblxuY29uc3QgeyBob3N0LCBwb3J0IH0gPSBnZXRTZXJ2ZXJDb25maWcoKTtcbmNvbnN0IHNlcnZlciA9IGFwcC5saXN0ZW4ocG9ydCwgaG9zdCwgdW5kZWZpbmVkLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKGBSdW5uaW5nIG9uIGh0dHA6Ly8ke2hvc3R9OiR7cG9ydH1gKTtcbn0pO1xuXG4vL2hlYWx0aENoZWNrKHNlcnZlcik7XG4vL29mZmljZUZhY3Rvcnkoc2VydmVyKS5zdGFydCgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNlcnZlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "host",
        "port",
        "server",
        "app",
        "listen",
        "undefined",
        "console",
        "log",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA;;AAGA;;;;AAFA;AACA;AAGA,MAAM;AAAEA,EAAAA,IAAF;AAAQC,EAAAA;AAAR,IAAiB,4BAAvB;;AACA,MAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAWH,IAAX,EAAiBD,IAAjB,EAAuBK,SAAvB,EAAkC,MAAM;AACrDC,EAAAA,OAAO,CAACC,GAAR,CAAa,qBAAoBP,IAAK,IAAGC,IAAK,EAA9C;AACD,CAFc,CAAf,C,CAIA;AACA;;;AAEAO,MAAM,CAACC,OAAP,GAAiBP,MAAjB",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "sourcesContent": [
        "import app from \"./app.server\";\n//import officeFactory from \"./office.factory\";\n//import healthCheck from \"./app.healthcheck\";\nimport { getServerConfig } from \"./app.config\";\n\nconst { host, port } = getServerConfig();\nconst server = app.listen(port, host, undefined, () => {\n  console.log(`Running on http://${host}:${port}`);\n});\n\n//healthCheck(server);\n//officeFactory(server).start();\n\nmodule.exports = server;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1591228884255
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.server.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
        "sourceFileName": "app.server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cookieSession = _interopRequireDefault(require(\"cookie-session\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _assets = _interopRequireDefault(require(\"./controllers/assets.controller\"));\n\nvar _app = _interopRequireDefault(require(\"./app.routes\"));\n\nvar _auth = require(\"./services/auth\");\n\nvar _categories = _interopRequireDefault(require(\"./services/categories\"));\n\nvar _products = _interopRequireDefault(require(\"./services/products\"));\n\nvar _me = _interopRequireDefault(require(\"./services/me\"));\n\nvar _app2 = require(\"./app.config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)(); //app.use(morgan(\"tiny\"));\n\napp.use((0, _cookieSession.default)((0, _app2.getSessionConfig)()));\napp.use(_bodyParser.default.urlencoded({\n  extended: false\n})); // set the template engine ejs\n\napp.set(\"view engine\", \"ejs\");\napp.set(\"views\", \"./app/views\"); // use authentication\n\n(0, _auth.setupAppAuth)(app);\napp.use((0, _cors.default)({\n  origin: [\"https://localhost:3003\"],\n  credentials: true\n}));\napp.use(\"/\", _express.default.static(_path.default.join(__dirname, \"..\", \"..\", \"public\")));\n\nconst assetsManifestFile = _path.default.join(__dirname, \"..\", \"..\", \"public\", \"dist\", \"manifest.json\");\n\nconst assetsManifestResolver = (0, _app2.getEnvironment)() === \"production\" ? _assets.default.staticManifestResolver(assetsManifestFile) : _assets.default.lazyManifestResolver(assetsManifestFile);\napp.locals.assets = _assets.default.createAssetsResolver(assetsManifestResolver, \"/dist\");\napp.use((req, res, next) => {\n  const isSecure = req.secure || req.header(\"x-forwarded-proto\") === \"https\";\n\n  if ((0, _app2.shouldEnforceSSL)() && !isSecure) {\n    res.redirect(`https://${req.hostname}${req.url}`);\n  } else {\n    next();\n  }\n});\napp.use(_app.default);\n(0, _me.default)().then(meData => {\n  app.locals.meDetail = meData;\n}).catch(err => {\n  console.error(err);\n});\n(0, _categories.default)((0, _app2.getCategories)()).then(categoriesData => {\n  app.locals.categoriesDetail = categoriesData;\n}).catch(err => {\n  console.error(err);\n});\n(0, _products.default)((0, _app2.getProducts)()).then(productsData => {\n  app.locals.productsDetail = productsData;\n}).catch(err => {\n  console.error(err);\n});\nmodule.exports = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5zZXJ2ZXIuanMiXSwibmFtZXMiOlsiYXBwIiwidXNlIiwiYm9keVBhcnNlciIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInNldCIsIm9yaWdpbiIsImNyZWRlbnRpYWxzIiwiZXhwcmVzcyIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwiYXNzZXRzTWFuaWZlc3RGaWxlIiwiYXNzZXRzTWFuaWZlc3RSZXNvbHZlciIsImFzc2V0cyIsInN0YXRpY01hbmlmZXN0UmVzb2x2ZXIiLCJsYXp5TWFuaWZlc3RSZXNvbHZlciIsImxvY2FscyIsImNyZWF0ZUFzc2V0c1Jlc29sdmVyIiwicmVxIiwicmVzIiwibmV4dCIsImlzU2VjdXJlIiwic2VjdXJlIiwiaGVhZGVyIiwicmVkaXJlY3QiLCJob3N0bmFtZSIsInVybCIsInJvdXRlcyIsInRoZW4iLCJtZURhdGEiLCJtZURldGFpbCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiY2F0ZWdvcmllc0RhdGEiLCJjYXRlZ29yaWVzRGV0YWlsIiwicHJvZHVjdHNEYXRhIiwicHJvZHVjdHNEZXRhaWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOzs7O0FBU0EsTUFBTUEsR0FBRyxHQUFHLHVCQUFaLEMsQ0FFQTs7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsNEJBQWMsNkJBQWQsQ0FBUjtBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdDLFVBQVgsQ0FBc0I7QUFBRUMsRUFBQUEsUUFBUSxFQUFFO0FBQVosQ0FBdEIsQ0FBUixFLENBRUE7O0FBQ0FKLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLGFBQVIsRUFBdUIsS0FBdkI7QUFDQUwsR0FBRyxDQUFDSyxHQUFKLENBQVEsT0FBUixFQUFpQixhQUFqQixFLENBRUE7O0FBQ0Esd0JBQWFMLEdBQWI7QUFFQUEsR0FBRyxDQUFDQyxHQUFKLENBQ0UsbUJBQUs7QUFDSEssRUFBQUEsTUFBTSxFQUFFLENBQUMsd0JBQUQsQ0FETDtBQUVIQyxFQUFBQSxXQUFXLEVBQUU7QUFGVixDQUFMLENBREY7QUFPQVAsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhTyxpQkFBUUMsTUFBUixDQUFlQyxjQUFLQyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsSUFBckIsRUFBMkIsSUFBM0IsRUFBaUMsUUFBakMsQ0FBZixDQUFiOztBQUVBLE1BQU1DLGtCQUFrQixHQUFHSCxjQUFLQyxJQUFMLENBQ3pCQyxTQUR5QixFQUV6QixJQUZ5QixFQUd6QixJQUh5QixFQUl6QixRQUp5QixFQUt6QixNQUx5QixFQU16QixlQU55QixDQUEzQjs7QUFRQSxNQUFNRSxzQkFBc0IsR0FDMUIsZ0NBQXFCLFlBQXJCLEdBQ0lDLGdCQUFPQyxzQkFBUCxDQUE4Qkgsa0JBQTlCLENBREosR0FFSUUsZ0JBQU9FLG9CQUFQLENBQTRCSixrQkFBNUIsQ0FITjtBQUtBYixHQUFHLENBQUNrQixNQUFKLENBQVdILE1BQVgsR0FBb0JBLGdCQUFPSSxvQkFBUCxDQUNsQkwsc0JBRGtCLEVBRWxCLE9BRmtCLENBQXBCO0FBS0FkLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLENBQUNtQixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUMxQixRQUFNQyxRQUFRLEdBQUdILEdBQUcsQ0FBQ0ksTUFBSixJQUFjSixHQUFHLENBQUNLLE1BQUosQ0FBVyxtQkFBWCxNQUFvQyxPQUFuRTs7QUFFQSxNQUFJLGlDQUFzQixDQUFDRixRQUEzQixFQUFxQztBQUNuQ0YsSUFBQUEsR0FBRyxDQUFDSyxRQUFKLENBQWMsV0FBVU4sR0FBRyxDQUFDTyxRQUFTLEdBQUVQLEdBQUcsQ0FBQ1EsR0FBSSxFQUEvQztBQUNELEdBRkQsTUFFTztBQUNMTixJQUFBQSxJQUFJO0FBQ0w7QUFDRixDQVJEO0FBVUF0QixHQUFHLENBQUNDLEdBQUosQ0FBUTRCLFlBQVI7QUFFQSxtQkFDR0MsSUFESCxDQUNTQyxNQUFELElBQVk7QUFDaEIvQixFQUFBQSxHQUFHLENBQUNrQixNQUFKLENBQVdjLFFBQVgsR0FBc0JELE1BQXRCO0FBQ0QsQ0FISCxFQUlHRSxLQUpILENBSVVDLEdBQUQsSUFBUztBQUNkQyxFQUFBQSxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsR0FBZDtBQUNELENBTkg7QUFRQSx5QkFBZ0IsMEJBQWhCLEVBQ0dKLElBREgsQ0FDU08sY0FBRCxJQUFvQjtBQUN4QnJDLEVBQUFBLEdBQUcsQ0FBQ2tCLE1BQUosQ0FBV29CLGdCQUFYLEdBQThCRCxjQUE5QjtBQUNELENBSEgsRUFJR0osS0FKSCxDQUlVQyxHQUFELElBQVM7QUFDZEMsRUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQWNGLEdBQWQ7QUFDRCxDQU5IO0FBUUEsdUJBQWMsd0JBQWQsRUFDR0osSUFESCxDQUNTUyxZQUFELElBQWtCO0FBQ3RCdkMsRUFBQUEsR0FBRyxDQUFDa0IsTUFBSixDQUFXc0IsY0FBWCxHQUE0QkQsWUFBNUI7QUFDRCxDQUhILEVBSUdOLEtBSkgsQ0FJVUMsR0FBRCxJQUFTO0FBQ2RDLEVBQUFBLE9BQU8sQ0FBQ0MsS0FBUixDQUFjRixHQUFkO0FBQ0QsQ0FOSDtBQVFBTyxNQUFNLENBQUNDLE9BQVAsR0FBaUIxQyxHQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9udDAxNTgvRG9jdW1lbnRvcy9NYXRoZXVzL3NhbGVzX3doYXRzYXBwL2JhY2tlbmQvYXBwLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgY29va2llU2Vzc2lvbiBmcm9tIFwiY29va2llLXNlc3Npb25cIjtcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gXCJib2R5LXBhcnNlclwiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBtb3JnYW4gZnJvbSBcIm1vcmdhblwiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcblxuaW1wb3J0IGFzc2V0cyBmcm9tIFwiLi9jb250cm9sbGVycy9hc3NldHMuY29udHJvbGxlclwiO1xuaW1wb3J0IHJvdXRlcyBmcm9tIFwiLi9hcHAucm91dGVzXCI7XG5cbmltcG9ydCB7IHNldHVwQXBwQXV0aCB9IGZyb20gXCIuL3NlcnZpY2VzL2F1dGhcIjtcbmltcG9ydCBmZXRjaENhdGVnb3JpZXMgZnJvbSBcIi4vc2VydmljZXMvY2F0ZWdvcmllc1wiO1xuaW1wb3J0IGZldGNoUHJvZHVjdHMgZnJvbSBcIi4vc2VydmljZXMvcHJvZHVjdHNcIjtcbmltcG9ydCBmZXRjaE1lIGZyb20gXCIuL3NlcnZpY2VzL21lXCI7XG5cbmltcG9ydCB7XG4gIGdldE1lLFxuICBnZXRDYXRlZ29yaWVzLFxuICBnZXRQcm9kdWN0cyxcbiAgZ2V0U2Vzc2lvbkNvbmZpZyxcbiAgZ2V0RW52aXJvbm1lbnQsXG4gIHNob3VsZEVuZm9yY2VTU0wsXG59IGZyb20gXCIuL2FwcC5jb25maWdcIjtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vL2FwcC51c2UobW9yZ2FuKFwidGlueVwiKSk7XG5hcHAudXNlKGNvb2tpZVNlc3Npb24oZ2V0U2Vzc2lvbkNvbmZpZygpKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG5cbi8vIHNldCB0aGUgdGVtcGxhdGUgZW5naW5lIGVqc1xuYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwiZWpzXCIpO1xuYXBwLnNldChcInZpZXdzXCIsIFwiLi9hcHAvdmlld3NcIik7XG5cbi8vIHVzZSBhdXRoZW50aWNhdGlvblxuc2V0dXBBcHBBdXRoKGFwcCk7XG5cbmFwcC51c2UoXG4gIGNvcnMoe1xuICAgIG9yaWdpbjogW1wiaHR0cHM6Ly9sb2NhbGhvc3Q6MzAwM1wiXSxcbiAgICBjcmVkZW50aWFsczogdHJ1ZSxcbiAgfSlcbik7XG5cbmFwcC51c2UoXCIvXCIsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsIFwiLi5cIiwgXCIuLlwiLCBcInB1YmxpY1wiKSkpO1xuXG5jb25zdCBhc3NldHNNYW5pZmVzdEZpbGUgPSBwYXRoLmpvaW4oXG4gIF9fZGlybmFtZSxcbiAgXCIuLlwiLFxuICBcIi4uXCIsXG4gIFwicHVibGljXCIsXG4gIFwiZGlzdFwiLFxuICBcIm1hbmlmZXN0Lmpzb25cIlxuKTtcbmNvbnN0IGFzc2V0c01hbmlmZXN0UmVzb2x2ZXIgPVxuICBnZXRFbnZpcm9ubWVudCgpID09PSBcInByb2R1Y3Rpb25cIlxuICAgID8gYXNzZXRzLnN0YXRpY01hbmlmZXN0UmVzb2x2ZXIoYXNzZXRzTWFuaWZlc3RGaWxlKVxuICAgIDogYXNzZXRzLmxhenlNYW5pZmVzdFJlc29sdmVyKGFzc2V0c01hbmlmZXN0RmlsZSk7XG5cbmFwcC5sb2NhbHMuYXNzZXRzID0gYXNzZXRzLmNyZWF0ZUFzc2V0c1Jlc29sdmVyKFxuICBhc3NldHNNYW5pZmVzdFJlc29sdmVyLFxuICBcIi9kaXN0XCJcbik7XG5cbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IGlzU2VjdXJlID0gcmVxLnNlY3VyZSB8fCByZXEuaGVhZGVyKFwieC1mb3J3YXJkZWQtcHJvdG9cIikgPT09IFwiaHR0cHNcIjtcblxuICBpZiAoc2hvdWxkRW5mb3JjZVNTTCgpICYmICFpc1NlY3VyZSkge1xuICAgIHJlcy5yZWRpcmVjdChgaHR0cHM6Ly8ke3JlcS5ob3N0bmFtZX0ke3JlcS51cmx9YCk7XG4gIH0gZWxzZSB7XG4gICAgbmV4dCgpO1xuICB9XG59KTtcblxuYXBwLnVzZShyb3V0ZXMpO1xuXG5mZXRjaE1lKClcbiAgLnRoZW4oKG1lRGF0YSkgPT4ge1xuICAgIGFwcC5sb2NhbHMubWVEZXRhaWwgPSBtZURhdGE7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcblxuZmV0Y2hDYXRlZ29yaWVzKGdldENhdGVnb3JpZXMoKSlcbiAgLnRoZW4oKGNhdGVnb3JpZXNEYXRhKSA9PiB7XG4gICAgYXBwLmxvY2Fscy5jYXRlZ29yaWVzRGV0YWlsID0gY2F0ZWdvcmllc0RhdGE7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcblxuZmV0Y2hQcm9kdWN0cyhnZXRQcm9kdWN0cygpKVxuICAudGhlbigocHJvZHVjdHNEYXRhKSA9PiB7XG4gICAgYXBwLmxvY2Fscy5wcm9kdWN0c0RldGFpbCA9IHByb2R1Y3RzRGF0YTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "app.server.js"
      ],
      "names": [
        "app",
        "use",
        "bodyParser",
        "urlencoded",
        "extended",
        "set",
        "origin",
        "credentials",
        "express",
        "static",
        "path",
        "join",
        "__dirname",
        "assetsManifestFile",
        "assetsManifestResolver",
        "assets",
        "staticManifestResolver",
        "lazyManifestResolver",
        "locals",
        "createAssetsResolver",
        "req",
        "res",
        "next",
        "isSecure",
        "secure",
        "header",
        "redirect",
        "hostname",
        "url",
        "routes",
        "then",
        "meData",
        "meDetail",
        "catch",
        "err",
        "console",
        "error",
        "categoriesData",
        "categoriesDetail",
        "productsData",
        "productsDetail",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;;;AASA,MAAMA,GAAG,GAAG,uBAAZ,C,CAEA;;AACAA,GAAG,CAACC,GAAJ,CAAQ,4BAAc,6BAAd,CAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR,E,CAEA;;AACAJ,GAAG,CAACK,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACAL,GAAG,CAACK,GAAJ,CAAQ,OAAR,EAAiB,aAAjB,E,CAEA;;AACA,wBAAaL,GAAb;AAEAA,GAAG,CAACC,GAAJ,CACE,mBAAK;AACHK,EAAAA,MAAM,EAAE,CAAC,wBAAD,CADL;AAEHC,EAAAA,WAAW,EAAE;AAFV,CAAL,CADF;AAOAP,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaO,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,QAAjC,CAAf,CAAb;;AAEA,MAAMC,kBAAkB,GAAGH,cAAKC,IAAL,CACzBC,SADyB,EAEzB,IAFyB,EAGzB,IAHyB,EAIzB,QAJyB,EAKzB,MALyB,EAMzB,eANyB,CAA3B;;AAQA,MAAME,sBAAsB,GAC1B,gCAAqB,YAArB,GACIC,gBAAOC,sBAAP,CAA8BH,kBAA9B,CADJ,GAEIE,gBAAOE,oBAAP,CAA4BJ,kBAA5B,CAHN;AAKAb,GAAG,CAACkB,MAAJ,CAAWH,MAAX,GAAoBA,gBAAOI,oBAAP,CAClBL,sBADkB,EAElB,OAFkB,CAApB;AAKAd,GAAG,CAACC,GAAJ,CAAQ,CAACmB,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1B,QAAMC,QAAQ,GAAGH,GAAG,CAACI,MAAJ,IAAcJ,GAAG,CAACK,MAAJ,CAAW,mBAAX,MAAoC,OAAnE;;AAEA,MAAI,iCAAsB,CAACF,QAA3B,EAAqC;AACnCF,IAAAA,GAAG,CAACK,QAAJ,CAAc,WAAUN,GAAG,CAACO,QAAS,GAAEP,GAAG,CAACQ,GAAI,EAA/C;AACD,GAFD,MAEO;AACLN,IAAAA,IAAI;AACL;AACF,CARD;AAUAtB,GAAG,CAACC,GAAJ,CAAQ4B,YAAR;AAEA,mBACGC,IADH,CACSC,MAAD,IAAY;AAChB/B,EAAAA,GAAG,CAACkB,MAAJ,CAAWc,QAAX,GAAsBD,MAAtB;AACD,CAHH,EAIGE,KAJH,CAIUC,GAAD,IAAS;AACdC,EAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,CANH;AAQA,yBAAgB,0BAAhB,EACGJ,IADH,CACSO,cAAD,IAAoB;AACxBrC,EAAAA,GAAG,CAACkB,MAAJ,CAAWoB,gBAAX,GAA8BD,cAA9B;AACD,CAHH,EAIGJ,KAJH,CAIUC,GAAD,IAAS;AACdC,EAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,CANH;AAQA,uBAAc,wBAAd,EACGJ,IADH,CACSS,YAAD,IAAkB;AACtBvC,EAAAA,GAAG,CAACkB,MAAJ,CAAWsB,cAAX,GAA4BD,YAA5B;AACD,CAHH,EAIGN,KAJH,CAIUC,GAAD,IAAS;AACdC,EAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,CANH;AAQAO,MAAM,CAACC,OAAP,GAAiB1C,GAAjB",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "sourcesContent": [
        "import express from \"express\";\nimport cookieSession from \"cookie-session\";\nimport bodyParser from \"body-parser\";\nimport path from \"path\";\nimport morgan from \"morgan\";\nimport cors from \"cors\";\n\nimport assets from \"./controllers/assets.controller\";\nimport routes from \"./app.routes\";\n\nimport { setupAppAuth } from \"./services/auth\";\nimport fetchCategories from \"./services/categories\";\nimport fetchProducts from \"./services/products\";\nimport fetchMe from \"./services/me\";\n\nimport {\n  getMe,\n  getCategories,\n  getProducts,\n  getSessionConfig,\n  getEnvironment,\n  shouldEnforceSSL,\n} from \"./app.config\";\n\nconst app = express();\n\n//app.use(morgan(\"tiny\"));\napp.use(cookieSession(getSessionConfig()));\napp.use(bodyParser.urlencoded({ extended: false }));\n\n// set the template engine ejs\napp.set(\"view engine\", \"ejs\");\napp.set(\"views\", \"./app/views\");\n\n// use authentication\nsetupAppAuth(app);\n\napp.use(\n  cors({\n    origin: [\"https://localhost:3003\"],\n    credentials: true,\n  })\n);\n\napp.use(\"/\", express.static(path.join(__dirname, \"..\", \"..\", \"public\")));\n\nconst assetsManifestFile = path.join(\n  __dirname,\n  \"..\",\n  \"..\",\n  \"public\",\n  \"dist\",\n  \"manifest.json\"\n);\nconst assetsManifestResolver =\n  getEnvironment() === \"production\"\n    ? assets.staticManifestResolver(assetsManifestFile)\n    : assets.lazyManifestResolver(assetsManifestFile);\n\napp.locals.assets = assets.createAssetsResolver(\n  assetsManifestResolver,\n  \"/dist\"\n);\n\napp.use((req, res, next) => {\n  const isSecure = req.secure || req.header(\"x-forwarded-proto\") === \"https\";\n\n  if (shouldEnforceSSL() && !isSecure) {\n    res.redirect(`https://${req.hostname}${req.url}`);\n  } else {\n    next();\n  }\n});\n\napp.use(routes);\n\nfetchMe()\n  .then((meData) => {\n    app.locals.meDetail = meData;\n  })\n  .catch((err) => {\n    console.error(err);\n  });\n\nfetchCategories(getCategories())\n  .then((categoriesData) => {\n    app.locals.categoriesDetail = categoriesData;\n  })\n  .catch((err) => {\n    console.error(err);\n  });\n\nfetchProducts(getProducts())\n  .then((productsData) => {\n    app.locals.productsDetail = productsData;\n  })\n  .catch((err) => {\n    console.error(err);\n  });\n\nmodule.exports = app;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592365999853
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/assets.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/assets.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/assets.controller.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/assets.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/",
        "sourceFileName": "assets.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst staticManifestResolver = manifestFile => {\n  const manifestData = _fs.default.readFileSync(manifestFile);\n\n  const manifest = JSON.parse(manifestData);\n  return () => manifest;\n};\n\nconst lazyManifestResolver = manifestPath => () => {\n  const resolver = staticManifestResolver(manifestPath);\n  return resolver();\n};\n\nconst createAssetsResolver = (manifestResolver, assetsBasePath) => {\n  const getAssetUrl = assetName => {\n    const manifest = manifestResolver();\n    const asset = manifest[assetName] || assetName;\n    return `${assetsBasePath}/${asset}`;\n  };\n\n  return {\n    url: getAssetUrl\n  };\n};\n\nvar _default = {\n  staticManifestResolver,\n  lazyManifestResolver,\n  createAssetsResolver\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbInN0YXRpY01hbmlmZXN0UmVzb2x2ZXIiLCJtYW5pZmVzdEZpbGUiLCJtYW5pZmVzdERhdGEiLCJmcyIsInJlYWRGaWxlU3luYyIsIm1hbmlmZXN0IiwiSlNPTiIsInBhcnNlIiwibGF6eU1hbmlmZXN0UmVzb2x2ZXIiLCJtYW5pZmVzdFBhdGgiLCJyZXNvbHZlciIsImNyZWF0ZUFzc2V0c1Jlc29sdmVyIiwibWFuaWZlc3RSZXNvbHZlciIsImFzc2V0c0Jhc2VQYXRoIiwiZ2V0QXNzZXRVcmwiLCJhc3NldE5hbWUiLCJhc3NldCIsInVybCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsc0JBQXNCLEdBQUlDLFlBQUQsSUFBa0I7QUFDL0MsUUFBTUMsWUFBWSxHQUFHQyxZQUFHQyxZQUFILENBQWdCSCxZQUFoQixDQUFyQjs7QUFDQSxRQUFNSSxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXTCxZQUFYLENBQWpCO0FBRUEsU0FBTyxNQUFNRyxRQUFiO0FBQ0QsQ0FMRDs7QUFPQSxNQUFNRyxvQkFBb0IsR0FBR0MsWUFBWSxJQUFJLE1BQU07QUFDakQsUUFBTUMsUUFBUSxHQUFHVixzQkFBc0IsQ0FBQ1MsWUFBRCxDQUF2QztBQUNBLFNBQU9DLFFBQVEsRUFBZjtBQUNELENBSEQ7O0FBTUEsTUFBTUMsb0JBQW9CLEdBQUcsQ0FBQ0MsZ0JBQUQsRUFBbUJDLGNBQW5CLEtBQXNDO0FBQ2pFLFFBQU1DLFdBQVcsR0FBSUMsU0FBRCxJQUFlO0FBQ2pDLFVBQU1WLFFBQVEsR0FBR08sZ0JBQWdCLEVBQWpDO0FBQ0EsVUFBTUksS0FBSyxHQUFHWCxRQUFRLENBQUNVLFNBQUQsQ0FBUixJQUF1QkEsU0FBckM7QUFFQSxXQUFRLEdBQUVGLGNBQWUsSUFBR0csS0FBTSxFQUFsQztBQUNELEdBTEQ7O0FBT0EsU0FBTztBQUNMQyxJQUFBQSxHQUFHLEVBQUVIO0FBREEsR0FBUDtBQUdELENBWEQ7O2VBY2U7QUFBRWQsRUFBQUEsc0JBQUY7QUFBMEJRLEVBQUFBLG9CQUExQjtBQUFnREcsRUFBQUE7QUFBaEQsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9udDAxNTgvRG9jdW1lbnRvcy9NYXRoZXVzL3NhbGVzX3doYXRzYXBwL2JhY2tlbmQvYXBwL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tIFwiZnNcIjtcblxuY29uc3Qgc3RhdGljTWFuaWZlc3RSZXNvbHZlciA9IChtYW5pZmVzdEZpbGUpID0+IHtcbiAgY29uc3QgbWFuaWZlc3REYXRhID0gZnMucmVhZEZpbGVTeW5jKG1hbmlmZXN0RmlsZSk7XG4gIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShtYW5pZmVzdERhdGEpO1xuXG4gIHJldHVybiAoKSA9PiBtYW5pZmVzdDtcbn07XG5cbmNvbnN0IGxhenlNYW5pZmVzdFJlc29sdmVyID0gbWFuaWZlc3RQYXRoID0+ICgpID0+IHtcbiAgY29uc3QgcmVzb2x2ZXIgPSBzdGF0aWNNYW5pZmVzdFJlc29sdmVyKG1hbmlmZXN0UGF0aCk7XG4gIHJldHVybiByZXNvbHZlcigpO1xufTtcblxuXG5jb25zdCBjcmVhdGVBc3NldHNSZXNvbHZlciA9IChtYW5pZmVzdFJlc29sdmVyLCBhc3NldHNCYXNlUGF0aCkgPT4ge1xuICBjb25zdCBnZXRBc3NldFVybCA9IChhc3NldE5hbWUpID0+IHtcbiAgICBjb25zdCBtYW5pZmVzdCA9IG1hbmlmZXN0UmVzb2x2ZXIoKTtcbiAgICBjb25zdCBhc3NldCA9IG1hbmlmZXN0W2Fzc2V0TmFtZV0gfHwgYXNzZXROYW1lO1xuXG4gICAgcmV0dXJuIGAke2Fzc2V0c0Jhc2VQYXRofS8ke2Fzc2V0fWA7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICB1cmw6IGdldEFzc2V0VXJsLFxuICB9O1xufTtcblxuXG5leHBvcnQgZGVmYXVsdCB7IHN0YXRpY01hbmlmZXN0UmVzb2x2ZXIsIGxhenlNYW5pZmVzdFJlc29sdmVyLCBjcmVhdGVBc3NldHNSZXNvbHZlciB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "assets.controller.js"
      ],
      "names": [
        "staticManifestResolver",
        "manifestFile",
        "manifestData",
        "fs",
        "readFileSync",
        "manifest",
        "JSON",
        "parse",
        "lazyManifestResolver",
        "manifestPath",
        "resolver",
        "createAssetsResolver",
        "manifestResolver",
        "assetsBasePath",
        "getAssetUrl",
        "assetName",
        "asset",
        "url"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,sBAAsB,GAAIC,YAAD,IAAkB;AAC/C,QAAMC,YAAY,GAAGC,YAAGC,YAAH,CAAgBH,YAAhB,CAArB;;AACA,QAAMI,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWL,YAAX,CAAjB;AAEA,SAAO,MAAMG,QAAb;AACD,CALD;;AAOA,MAAMG,oBAAoB,GAAGC,YAAY,IAAI,MAAM;AACjD,QAAMC,QAAQ,GAAGV,sBAAsB,CAACS,YAAD,CAAvC;AACA,SAAOC,QAAQ,EAAf;AACD,CAHD;;AAMA,MAAMC,oBAAoB,GAAG,CAACC,gBAAD,EAAmBC,cAAnB,KAAsC;AACjE,QAAMC,WAAW,GAAIC,SAAD,IAAe;AACjC,UAAMV,QAAQ,GAAGO,gBAAgB,EAAjC;AACA,UAAMI,KAAK,GAAGX,QAAQ,CAACU,SAAD,CAAR,IAAuBA,SAArC;AAEA,WAAQ,GAAEF,cAAe,IAAGG,KAAM,EAAlC;AACD,GALD;;AAOA,SAAO;AACLC,IAAAA,GAAG,EAAEH;AADA,GAAP;AAGD,CAXD;;eAce;AAAEd,EAAAA,sBAAF;AAA0BQ,EAAAA,oBAA1B;AAAgDG,EAAAA;AAAhD,C",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/",
      "sourcesContent": [
        "import fs from \"fs\";\n\nconst staticManifestResolver = (manifestFile) => {\n  const manifestData = fs.readFileSync(manifestFile);\n  const manifest = JSON.parse(manifestData);\n\n  return () => manifest;\n};\n\nconst lazyManifestResolver = manifestPath => () => {\n  const resolver = staticManifestResolver(manifestPath);\n  return resolver();\n};\n\n\nconst createAssetsResolver = (manifestResolver, assetsBasePath) => {\n  const getAssetUrl = (assetName) => {\n    const manifest = manifestResolver();\n    const asset = manifest[assetName] || assetName;\n\n    return `${assetsBasePath}/${asset}`;\n  };\n\n  return {\n    url: getAssetUrl,\n  };\n};\n\n\nexport default { staticManifestResolver, lazyManifestResolver, createAssetsResolver };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1589291082000
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.routes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.routes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.routes.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
        "sourceFileName": "app.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _authenticate = _interopRequireDefault(require(\"./middlewares/authenticate\"));\n\nvar _auth = require(\"./services/auth\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nconst routes = {\n  loginPath: \"/\",\n  getMe: \"/me\",\n  getUser: \"/user\",\n  logoutPath: \"/auth/logout\",\n  listCategoriesPath: \"/categories\",\n  listProductsPath: \"/products\",\n  loginStrategyPath: `/auth/${_auth.authStrategy}`,\n  loginStrategyCallbackPath: `/auth/${_auth.authStrategy}/callback`,\n  homePath: \"https://localhost:3003/\"\n};\nrouter.get(routes.loginPath, (req, res) => {\n  if ((0, _auth.isUserLoggedIn)(req)) {\n    return res.redirect(routes.homePath);\n  }\n\n  return res.render(\"index\", {\n    error: req.query.error\n  });\n});\nrouter.get(routes.listCategoriesPath, (req, res) => {\n  res.json(req.app.locals.categoriesDetail);\n});\nrouter.get(routes.listProductsPath, (req, res) => {\n  res.json(req.app.locals.productsDetail);\n});\nrouter.get(routes.getMe, (req, res) => {\n  res.json(req.app.locals.meDetail);\n});\nrouter.get(routes.getUser, (0, _authenticate.default)(), (req, res) => {\n  res.json((0, _auth.currentUser)(req));\n});\nrouter.get(routes.loginStrategyPath, (0, _auth.authenticationHandler)());\nrouter.get(routes.loginStrategyCallbackPath, (0, _auth.authenticationCallbackHandler)({\n  successRedirect: routes.homePath,\n  failureRedirect: routes.loginPath\n}));\nrouter.get(routes.logoutPath, (req, res) => {\n  (0, _auth.logout)(req);\n  res.redirect(routes.homePath);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5yb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInJvdXRlcyIsImxvZ2luUGF0aCIsImdldE1lIiwiZ2V0VXNlciIsImxvZ291dFBhdGgiLCJsaXN0Q2F0ZWdvcmllc1BhdGgiLCJsaXN0UHJvZHVjdHNQYXRoIiwibG9naW5TdHJhdGVneVBhdGgiLCJhdXRoU3RyYXRlZ3kiLCJsb2dpblN0cmF0ZWd5Q2FsbGJhY2tQYXRoIiwiaG9tZVBhdGgiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZWRpcmVjdCIsInJlbmRlciIsImVycm9yIiwicXVlcnkiLCJqc29uIiwiYXBwIiwibG9jYWxzIiwiY2F0ZWdvcmllc0RldGFpbCIsInByb2R1Y3RzRGV0YWlsIiwibWVEZXRhaWwiLCJzdWNjZXNzUmVkaXJlY3QiLCJmYWlsdXJlUmVkaXJlY3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQVVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQSxNQUFNQyxNQUFNLEdBQUc7QUFDYkMsRUFBQUEsU0FBUyxFQUFFLEdBREU7QUFFYkMsRUFBQUEsS0FBSyxFQUFFLEtBRk07QUFHYkMsRUFBQUEsT0FBTyxFQUFFLE9BSEk7QUFJYkMsRUFBQUEsVUFBVSxFQUFFLGNBSkM7QUFLYkMsRUFBQUEsa0JBQWtCLEVBQUUsYUFMUDtBQU1iQyxFQUFBQSxnQkFBZ0IsRUFBRSxXQU5MO0FBT2JDLEVBQUFBLGlCQUFpQixFQUFHLFNBQVFDLGtCQUFhLEVBUDVCO0FBUWJDLEVBQUFBLHlCQUF5QixFQUFHLFNBQVFELGtCQUFhLFdBUnBDO0FBU2JFLEVBQUFBLFFBQVEsRUFBRTtBQVRHLENBQWY7QUFZQWIsTUFBTSxDQUFDYyxHQUFQLENBQVdYLE1BQU0sQ0FBQ0MsU0FBbEIsRUFBNkIsQ0FBQ1csR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDekMsTUFBSSwwQkFBZUQsR0FBZixDQUFKLEVBQXlCO0FBQ3ZCLFdBQU9DLEdBQUcsQ0FBQ0MsUUFBSixDQUFhZCxNQUFNLENBQUNVLFFBQXBCLENBQVA7QUFDRDs7QUFFRCxTQUFPRyxHQUFHLENBQUNFLE1BQUosQ0FBVyxPQUFYLEVBQW9CO0FBQUVDLElBQUFBLEtBQUssRUFBRUosR0FBRyxDQUFDSyxLQUFKLENBQVVEO0FBQW5CLEdBQXBCLENBQVA7QUFDRCxDQU5EO0FBUUFuQixNQUFNLENBQUNjLEdBQVAsQ0FBV1gsTUFBTSxDQUFDSyxrQkFBbEIsRUFBc0MsQ0FBQ08sR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDbERBLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTTixHQUFHLENBQUNPLEdBQUosQ0FBUUMsTUFBUixDQUFlQyxnQkFBeEI7QUFDRCxDQUZEO0FBSUF4QixNQUFNLENBQUNjLEdBQVAsQ0FBV1gsTUFBTSxDQUFDTSxnQkFBbEIsRUFBb0MsQ0FBQ00sR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDaERBLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTTixHQUFHLENBQUNPLEdBQUosQ0FBUUMsTUFBUixDQUFlRSxjQUF4QjtBQUNELENBRkQ7QUFJQXpCLE1BQU0sQ0FBQ2MsR0FBUCxDQUFXWCxNQUFNLENBQUNFLEtBQWxCLEVBQXlCLENBQUNVLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3JDQSxFQUFBQSxHQUFHLENBQUNLLElBQUosQ0FBU04sR0FBRyxDQUFDTyxHQUFKLENBQVFDLE1BQVIsQ0FBZUcsUUFBeEI7QUFDRCxDQUZEO0FBSUExQixNQUFNLENBQUNjLEdBQVAsQ0FBV1gsTUFBTSxDQUFDRyxPQUFsQixFQUEyQiw0QkFBM0IsRUFBMkMsQ0FBQ1MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkRBLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTLHVCQUFZTixHQUFaLENBQVQ7QUFDRCxDQUZEO0FBSUFmLE1BQU0sQ0FBQ2MsR0FBUCxDQUFXWCxNQUFNLENBQUNPLGlCQUFsQixFQUFxQyxrQ0FBckM7QUFFQVYsTUFBTSxDQUFDYyxHQUFQLENBQ0VYLE1BQU0sQ0FBQ1MseUJBRFQsRUFFRSx5Q0FBOEI7QUFDNUJlLEVBQUFBLGVBQWUsRUFBRXhCLE1BQU0sQ0FBQ1UsUUFESTtBQUU1QmUsRUFBQUEsZUFBZSxFQUFFekIsTUFBTSxDQUFDQztBQUZJLENBQTlCLENBRkY7QUFRQUosTUFBTSxDQUFDYyxHQUFQLENBQVdYLE1BQU0sQ0FBQ0ksVUFBbEIsRUFBOEIsQ0FBQ1EsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDMUMsb0JBQU9ELEdBQVA7QUFDQUMsRUFBQUEsR0FBRyxDQUFDQyxRQUFKLENBQWFkLE1BQU0sQ0FBQ1UsUUFBcEI7QUFDRCxDQUhEO2VBS2ViLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnQwMTU4L0RvY3VtZW50b3MvTWF0aGV1cy9zYWxlc193aGF0c2FwcC9iYWNrZW5kL2FwcC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGF1dGhlbnRpY2F0ZSBmcm9tIFwiLi9taWRkbGV3YXJlcy9hdXRoZW50aWNhdGVcIjtcbmltcG9ydCB7XG4gIGF1dGhTdHJhdGVneSxcbiAgYXV0aGVudGljYXRpb25IYW5kbGVyLFxuICBhdXRoZW50aWNhdGlvbkNhbGxiYWNrSGFuZGxlcixcbiAgY3VycmVudFVzZXIsXG4gIGxvZ2luLFxuICBsb2dvdXQsXG4gIGlzVXNlckxvZ2dlZEluLFxufSBmcm9tIFwiLi9zZXJ2aWNlcy9hdXRoXCI7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IHJvdXRlcyA9IHtcbiAgbG9naW5QYXRoOiBcIi9cIixcbiAgZ2V0TWU6IFwiL21lXCIsXG4gIGdldFVzZXI6IFwiL3VzZXJcIixcbiAgbG9nb3V0UGF0aDogXCIvYXV0aC9sb2dvdXRcIixcbiAgbGlzdENhdGVnb3JpZXNQYXRoOiBcIi9jYXRlZ29yaWVzXCIsXG4gIGxpc3RQcm9kdWN0c1BhdGg6IFwiL3Byb2R1Y3RzXCIsXG4gIGxvZ2luU3RyYXRlZ3lQYXRoOiBgL2F1dGgvJHthdXRoU3RyYXRlZ3l9YCxcbiAgbG9naW5TdHJhdGVneUNhbGxiYWNrUGF0aDogYC9hdXRoLyR7YXV0aFN0cmF0ZWd5fS9jYWxsYmFja2AsXG4gIGhvbWVQYXRoOiBcImh0dHBzOi8vbG9jYWxob3N0OjMwMDMvXCIsXG59O1xuXG5yb3V0ZXIuZ2V0KHJvdXRlcy5sb2dpblBhdGgsIChyZXEsIHJlcykgPT4ge1xuICBpZiAoaXNVc2VyTG9nZ2VkSW4ocmVxKSkge1xuICAgIHJldHVybiByZXMucmVkaXJlY3Qocm91dGVzLmhvbWVQYXRoKTtcbiAgfVxuXG4gIHJldHVybiByZXMucmVuZGVyKFwiaW5kZXhcIiwgeyBlcnJvcjogcmVxLnF1ZXJ5LmVycm9yIH0pO1xufSk7XG5cbnJvdXRlci5nZXQocm91dGVzLmxpc3RDYXRlZ29yaWVzUGF0aCwgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5qc29uKHJlcS5hcHAubG9jYWxzLmNhdGVnb3JpZXNEZXRhaWwpO1xufSk7XG5cbnJvdXRlci5nZXQocm91dGVzLmxpc3RQcm9kdWN0c1BhdGgsIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbihyZXEuYXBwLmxvY2Fscy5wcm9kdWN0c0RldGFpbCk7XG59KTtcblxucm91dGVyLmdldChyb3V0ZXMuZ2V0TWUsIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbihyZXEuYXBwLmxvY2Fscy5tZURldGFpbCk7XG59KTtcblxucm91dGVyLmdldChyb3V0ZXMuZ2V0VXNlciwgYXV0aGVudGljYXRlKCksIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbihjdXJyZW50VXNlcihyZXEpKTtcbn0pO1xuXG5yb3V0ZXIuZ2V0KHJvdXRlcy5sb2dpblN0cmF0ZWd5UGF0aCwgYXV0aGVudGljYXRpb25IYW5kbGVyKCkpO1xuXG5yb3V0ZXIuZ2V0KFxuICByb3V0ZXMubG9naW5TdHJhdGVneUNhbGxiYWNrUGF0aCxcbiAgYXV0aGVudGljYXRpb25DYWxsYmFja0hhbmRsZXIoe1xuICAgIHN1Y2Nlc3NSZWRpcmVjdDogcm91dGVzLmhvbWVQYXRoLFxuICAgIGZhaWx1cmVSZWRpcmVjdDogcm91dGVzLmxvZ2luUGF0aCxcbiAgfSlcbik7XG5cbnJvdXRlci5nZXQocm91dGVzLmxvZ291dFBhdGgsIChyZXEsIHJlcykgPT4ge1xuICBsb2dvdXQocmVxKTtcbiAgcmVzLnJlZGlyZWN0KHJvdXRlcy5ob21lUGF0aCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "app.routes.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "routes",
        "loginPath",
        "getMe",
        "getUser",
        "logoutPath",
        "listCategoriesPath",
        "listProductsPath",
        "loginStrategyPath",
        "authStrategy",
        "loginStrategyCallbackPath",
        "homePath",
        "get",
        "req",
        "res",
        "redirect",
        "render",
        "error",
        "query",
        "json",
        "app",
        "locals",
        "categoriesDetail",
        "productsDetail",
        "meDetail",
        "successRedirect",
        "failureRedirect"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAUA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,SAAS,EAAE,GADE;AAEbC,EAAAA,KAAK,EAAE,KAFM;AAGbC,EAAAA,OAAO,EAAE,OAHI;AAIbC,EAAAA,UAAU,EAAE,cAJC;AAKbC,EAAAA,kBAAkB,EAAE,aALP;AAMbC,EAAAA,gBAAgB,EAAE,WANL;AAObC,EAAAA,iBAAiB,EAAG,SAAQC,kBAAa,EAP5B;AAQbC,EAAAA,yBAAyB,EAAG,SAAQD,kBAAa,WARpC;AASbE,EAAAA,QAAQ,EAAE;AATG,CAAf;AAYAb,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACC,SAAlB,EAA6B,CAACW,GAAD,EAAMC,GAAN,KAAc;AACzC,MAAI,0BAAeD,GAAf,CAAJ,EAAyB;AACvB,WAAOC,GAAG,CAACC,QAAJ,CAAad,MAAM,CAACU,QAApB,CAAP;AACD;;AAED,SAAOG,GAAG,CAACE,MAAJ,CAAW,OAAX,EAAoB;AAAEC,IAAAA,KAAK,EAAEJ,GAAG,CAACK,KAAJ,CAAUD;AAAnB,GAApB,CAAP;AACD,CAND;AAQAnB,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACK,kBAAlB,EAAsC,CAACO,GAAD,EAAMC,GAAN,KAAc;AAClDA,EAAAA,GAAG,CAACK,IAAJ,CAASN,GAAG,CAACO,GAAJ,CAAQC,MAAR,CAAeC,gBAAxB;AACD,CAFD;AAIAxB,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACM,gBAAlB,EAAoC,CAACM,GAAD,EAAMC,GAAN,KAAc;AAChDA,EAAAA,GAAG,CAACK,IAAJ,CAASN,GAAG,CAACO,GAAJ,CAAQC,MAAR,CAAeE,cAAxB;AACD,CAFD;AAIAzB,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACE,KAAlB,EAAyB,CAACU,GAAD,EAAMC,GAAN,KAAc;AACrCA,EAAAA,GAAG,CAACK,IAAJ,CAASN,GAAG,CAACO,GAAJ,CAAQC,MAAR,CAAeG,QAAxB;AACD,CAFD;AAIA1B,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACG,OAAlB,EAA2B,4BAA3B,EAA2C,CAACS,GAAD,EAAMC,GAAN,KAAc;AACvDA,EAAAA,GAAG,CAACK,IAAJ,CAAS,uBAAYN,GAAZ,CAAT;AACD,CAFD;AAIAf,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACO,iBAAlB,EAAqC,kCAArC;AAEAV,MAAM,CAACc,GAAP,CACEX,MAAM,CAACS,yBADT,EAEE,yCAA8B;AAC5Be,EAAAA,eAAe,EAAExB,MAAM,CAACU,QADI;AAE5Be,EAAAA,eAAe,EAAEzB,MAAM,CAACC;AAFI,CAA9B,CAFF;AAQAJ,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACI,UAAlB,EAA8B,CAACQ,GAAD,EAAMC,GAAN,KAAc;AAC1C,oBAAOD,GAAP;AACAC,EAAAA,GAAG,CAACC,QAAJ,CAAad,MAAM,CAACU,QAApB;AACD,CAHD;eAKeb,M",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "sourcesContent": [
        "import express from \"express\";\nimport authenticate from \"./middlewares/authenticate\";\nimport {\n  authStrategy,\n  authenticationHandler,\n  authenticationCallbackHandler,\n  currentUser,\n  login,\n  logout,\n  isUserLoggedIn,\n} from \"./services/auth\";\n\nconst router = express.Router();\n\nconst routes = {\n  loginPath: \"/\",\n  getMe: \"/me\",\n  getUser: \"/user\",\n  logoutPath: \"/auth/logout\",\n  listCategoriesPath: \"/categories\",\n  listProductsPath: \"/products\",\n  loginStrategyPath: `/auth/${authStrategy}`,\n  loginStrategyCallbackPath: `/auth/${authStrategy}/callback`,\n  homePath: \"https://localhost:3003/\",\n};\n\nrouter.get(routes.loginPath, (req, res) => {\n  if (isUserLoggedIn(req)) {\n    return res.redirect(routes.homePath);\n  }\n\n  return res.render(\"index\", { error: req.query.error });\n});\n\nrouter.get(routes.listCategoriesPath, (req, res) => {\n  res.json(req.app.locals.categoriesDetail);\n});\n\nrouter.get(routes.listProductsPath, (req, res) => {\n  res.json(req.app.locals.productsDetail);\n});\n\nrouter.get(routes.getMe, (req, res) => {\n  res.json(req.app.locals.meDetail);\n});\n\nrouter.get(routes.getUser, authenticate(), (req, res) => {\n  res.json(currentUser(req));\n});\n\nrouter.get(routes.loginStrategyPath, authenticationHandler());\n\nrouter.get(\n  routes.loginStrategyCallbackPath,\n  authenticationCallbackHandler({\n    successRedirect: routes.homePath,\n    failureRedirect: routes.loginPath,\n  })\n);\n\nrouter.get(routes.logoutPath, (req, res) => {\n  logout(req);\n  res.redirect(routes.homePath);\n});\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592366065178
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/authenticate.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/authenticate.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/authenticate.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/authenticate.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/",
        "sourceFileName": "authenticate.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = authenticate;\n\nvar _auth = require(\"../services/auth\");\n\nfunction authenticate(opts) {\n  const loginPath = opts === null || opts === void 0 ? void 0 : opts.loginPath;\n  return (req, resp, next) => {\n    if ((0, _auth.isUserLoggedIn)(req)) {\n      return next();\n    }\n\n    if (loginPath) {\n      return resp.status(401).redirect(loginPath);\n    }\n\n    resp.sendStatus(401);\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0ZS5qcyJdLCJuYW1lcyI6WyJhdXRoZW50aWNhdGUiLCJvcHRzIiwibG9naW5QYXRoIiwicmVxIiwicmVzcCIsIm5leHQiLCJzdGF0dXMiLCJyZWRpcmVjdCIsInNlbmRTdGF0dXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFZSxTQUFTQSxZQUFULENBQXNCQyxJQUF0QixFQUE0QjtBQUN6QyxRQUFNQyxTQUFTLEdBQUdELElBQUgsYUFBR0EsSUFBSCx1QkFBR0EsSUFBSSxDQUFFQyxTQUF4QjtBQUVBLFNBQU8sQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLElBQVosS0FBcUI7QUFDMUIsUUFBSSwwQkFBZUYsR0FBZixDQUFKLEVBQXlCO0FBQ3ZCLGFBQU9FLElBQUksRUFBWDtBQUNEOztBQUVELFFBQUlILFNBQUosRUFBZTtBQUNiLGFBQU9FLElBQUksQ0FBQ0UsTUFBTCxDQUFZLEdBQVosRUFBaUJDLFFBQWpCLENBQTBCTCxTQUExQixDQUFQO0FBQ0Q7O0FBRURFLElBQUFBLElBQUksQ0FBQ0ksVUFBTCxDQUFnQixHQUFoQjtBQUNELEdBVkQ7QUFXRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9udDAxNTgvRG9jdW1lbnRvcy9NYXRoZXVzL3NhbGVzX3doYXRzYXBwL2JhY2tlbmQvYXBwL21pZGRsZXdhcmVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVXNlckxvZ2dlZEluIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2F1dGhcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0aGVudGljYXRlKG9wdHMpIHtcbiAgY29uc3QgbG9naW5QYXRoID0gb3B0cz8ubG9naW5QYXRoO1xuXG4gIHJldHVybiAocmVxLCByZXNwLCBuZXh0KSA9PiB7XG4gICAgaWYgKGlzVXNlckxvZ2dlZEluKHJlcSkpIHtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuXG4gICAgaWYgKGxvZ2luUGF0aCkge1xuICAgICAgcmV0dXJuIHJlc3Auc3RhdHVzKDQwMSkucmVkaXJlY3QobG9naW5QYXRoKTtcbiAgICB9XG5cbiAgICByZXNwLnNlbmRTdGF0dXMoNDAxKTtcbiAgfTtcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "authenticate.js"
      ],
      "names": [
        "authenticate",
        "opts",
        "loginPath",
        "req",
        "resp",
        "next",
        "status",
        "redirect",
        "sendStatus"
      ],
      "mappings": ";;;;;;;AAAA;;AAEe,SAASA,YAAT,CAAsBC,IAAtB,EAA4B;AACzC,QAAMC,SAAS,GAAGD,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEC,SAAxB;AAEA,SAAO,CAACC,GAAD,EAAMC,IAAN,EAAYC,IAAZ,KAAqB;AAC1B,QAAI,0BAAeF,GAAf,CAAJ,EAAyB;AACvB,aAAOE,IAAI,EAAX;AACD;;AAED,QAAIH,SAAJ,EAAe;AACb,aAAOE,IAAI,CAACE,MAAL,CAAY,GAAZ,EAAiBC,QAAjB,CAA0BL,SAA1B,CAAP;AACD;;AAEDE,IAAAA,IAAI,CAACI,UAAL,CAAgB,GAAhB;AACD,GAVD;AAWD",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/",
      "sourcesContent": [
        "import { isUserLoggedIn } from \"../services/auth\";\n\nexport default function authenticate(opts) {\n  const loginPath = opts?.loginPath;\n\n  return (req, resp, next) => {\n    if (isUserLoggedIn(req)) {\n      return next();\n    }\n\n    if (loginPath) {\n      return resp.status(401).redirect(loginPath);\n    }\n\n    resp.sendStatus(401);\n  };\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1589291082000
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/index.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setupAppAuth = setupAppAuth;\nexports.authenticationHandler = authenticationHandler;\nexports.authenticationCallbackHandler = authenticationCallbackHandler;\nexports.currentUser = currentUser;\nexports.isUserLoggedIn = isUserLoggedIn;\nexports.logout = logout;\nexports.getMe = getMe;\nexports.authStrategy = void 0;\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _app = require(\"../../app.config\");\n\nvar _authorization = require(\"./authorization\");\n\nvar _strategy = require(\"./strategy\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst authConfig = (0, _app.getAuthConfig)();\nconst isAuthorized = (0, _authorization.domainAuthorization)((0, _app.getAllowedDomains)());\n\n_passport.default.use((0, _strategy.buildAuthStrategy)(authConfig, isAuthorized));\n\n_passport.default.serializeUser((user, done) => done(null, user));\n\n_passport.default.deserializeUser((user, done) => done(null, user));\n\nconst authStrategy = authConfig.authStrategy;\nexports.authStrategy = authStrategy;\n\nfunction setupAppAuth(app) {\n  app.use(_passport.default.initialize());\n  app.use(_passport.default.session());\n}\n\nfunction authenticationHandler() {\n  return _passport.default.authenticate(authStrategy, {\n    scope: [\"profile\", \"email\"]\n  });\n}\n\nfunction authenticationCallbackHandler({\n  successRedirect,\n  failureRedirect\n}) {\n  return function (req, resp, next) {\n    const redirectToFailure = err => {\n      const errorMessage = err || \"\";\n      resp.status(401).redirect(`${failureRedirect}?error=${encodeURIComponent(errorMessage)}`);\n    };\n\n    _passport.default.authenticate(authStrategy, function (err, profile) {\n      if (err) {\n        return redirectToFailure(err);\n      }\n\n      if (!profile) {\n        return redirectToFailure();\n      }\n\n      req.login(profile, err => {\n        if (err) {\n          return redirectToFailure(err);\n        }\n\n        resp.redirect(successRedirect);\n      });\n    })(req, resp, next);\n  };\n}\n\nfunction currentUser(req) {\n  return req.user;\n}\n\nfunction isUserLoggedIn(req) {\n  return !!currentUser(req);\n}\n\nfunction logout(req) {\n  req.logout();\n}\n\nfunction getMe(req) {\n  return req.user;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImF1dGhDb25maWciLCJpc0F1dGhvcml6ZWQiLCJwYXNzcG9ydCIsInVzZSIsInNlcmlhbGl6ZVVzZXIiLCJ1c2VyIiwiZG9uZSIsImRlc2VyaWFsaXplVXNlciIsImF1dGhTdHJhdGVneSIsInNldHVwQXBwQXV0aCIsImFwcCIsImluaXRpYWxpemUiLCJzZXNzaW9uIiwiYXV0aGVudGljYXRpb25IYW5kbGVyIiwiYXV0aGVudGljYXRlIiwic2NvcGUiLCJhdXRoZW50aWNhdGlvbkNhbGxiYWNrSGFuZGxlciIsInN1Y2Nlc3NSZWRpcmVjdCIsImZhaWx1cmVSZWRpcmVjdCIsInJlcSIsInJlc3AiLCJuZXh0IiwicmVkaXJlY3RUb0ZhaWx1cmUiLCJlcnIiLCJlcnJvck1lc3NhZ2UiLCJzdGF0dXMiLCJyZWRpcmVjdCIsImVuY29kZVVSSUNvbXBvbmVudCIsInByb2ZpbGUiLCJsb2dpbiIsImN1cnJlbnRVc2VyIiwiaXNVc2VyTG9nZ2VkSW4iLCJsb2dvdXQiLCJnZXRNZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFFQTs7QUFDQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyx5QkFBbkI7QUFDQSxNQUFNQyxZQUFZLEdBQUcsd0NBQW9CLDZCQUFwQixDQUFyQjs7QUFFQUMsa0JBQVNDLEdBQVQsQ0FBYSxpQ0FBa0JILFVBQWxCLEVBQThCQyxZQUE5QixDQUFiOztBQUNBQyxrQkFBU0UsYUFBVCxDQUF1QixDQUFDQyxJQUFELEVBQU9DLElBQVAsS0FBZ0JBLElBQUksQ0FBQyxJQUFELEVBQU9ELElBQVAsQ0FBM0M7O0FBQ0FILGtCQUFTSyxlQUFULENBQXlCLENBQUNGLElBQUQsRUFBT0MsSUFBUCxLQUFnQkEsSUFBSSxDQUFDLElBQUQsRUFBT0QsSUFBUCxDQUE3Qzs7QUFFTyxNQUFNRyxZQUFZLEdBQUdSLFVBQVUsQ0FBQ1EsWUFBaEM7OztBQUVBLFNBQVNDLFlBQVQsQ0FBc0JDLEdBQXRCLEVBQTJCO0FBQ2hDQSxFQUFBQSxHQUFHLENBQUNQLEdBQUosQ0FBUUQsa0JBQVNTLFVBQVQsRUFBUjtBQUNBRCxFQUFBQSxHQUFHLENBQUNQLEdBQUosQ0FBUUQsa0JBQVNVLE9BQVQsRUFBUjtBQUNEOztBQUVNLFNBQVNDLHFCQUFULEdBQWlDO0FBQ3RDLFNBQU9YLGtCQUFTWSxZQUFULENBQXNCTixZQUF0QixFQUFvQztBQUFFTyxJQUFBQSxLQUFLLEVBQUUsQ0FBQyxTQUFELEVBQVksT0FBWjtBQUFULEdBQXBDLENBQVA7QUFDRDs7QUFFTSxTQUFTQyw2QkFBVCxDQUF1QztBQUM1Q0MsRUFBQUEsZUFENEM7QUFFNUNDLEVBQUFBO0FBRjRDLENBQXZDLEVBR0o7QUFDRCxTQUFPLFVBQVVDLEdBQVYsRUFBZUMsSUFBZixFQUFxQkMsSUFBckIsRUFBMkI7QUFDaEMsVUFBTUMsaUJBQWlCLEdBQUlDLEdBQUQsSUFBUztBQUNqQyxZQUFNQyxZQUFZLEdBQUdELEdBQUcsSUFBSSxFQUE1QjtBQUVBSCxNQUFBQSxJQUFJLENBQ0RLLE1BREgsQ0FDVSxHQURWLEVBRUdDLFFBRkgsQ0FHSyxHQUFFUixlQUFnQixVQUFTUyxrQkFBa0IsQ0FBQ0gsWUFBRCxDQUFlLEVBSGpFO0FBS0QsS0FSRDs7QUFVQXRCLHNCQUFTWSxZQUFULENBQXNCTixZQUF0QixFQUFvQyxVQUFVZSxHQUFWLEVBQWVLLE9BQWYsRUFBd0I7QUFDMUQsVUFBSUwsR0FBSixFQUFTO0FBQ1AsZUFBT0QsaUJBQWlCLENBQUNDLEdBQUQsQ0FBeEI7QUFDRDs7QUFDRCxVQUFJLENBQUNLLE9BQUwsRUFBYztBQUNaLGVBQU9OLGlCQUFpQixFQUF4QjtBQUNEOztBQUVESCxNQUFBQSxHQUFHLENBQUNVLEtBQUosQ0FBVUQsT0FBVixFQUFvQkwsR0FBRCxJQUFTO0FBQzFCLFlBQUlBLEdBQUosRUFBUztBQUNQLGlCQUFPRCxpQkFBaUIsQ0FBQ0MsR0FBRCxDQUF4QjtBQUNEOztBQUVESCxRQUFBQSxJQUFJLENBQUNNLFFBQUwsQ0FBY1QsZUFBZDtBQUNELE9BTkQ7QUFPRCxLQWZELEVBZUdFLEdBZkgsRUFlUUMsSUFmUixFQWVjQyxJQWZkO0FBZ0JELEdBM0JEO0FBNEJEOztBQUVNLFNBQVNTLFdBQVQsQ0FBcUJYLEdBQXJCLEVBQTBCO0FBQy9CLFNBQU9BLEdBQUcsQ0FBQ2QsSUFBWDtBQUNEOztBQUVNLFNBQVMwQixjQUFULENBQXdCWixHQUF4QixFQUE2QjtBQUNsQyxTQUFPLENBQUMsQ0FBQ1csV0FBVyxDQUFDWCxHQUFELENBQXBCO0FBQ0Q7O0FBRU0sU0FBU2EsTUFBVCxDQUFnQmIsR0FBaEIsRUFBcUI7QUFDMUJBLEVBQUFBLEdBQUcsQ0FBQ2EsTUFBSjtBQUNEOztBQUVNLFNBQVNDLEtBQVQsQ0FBZWQsR0FBZixFQUFvQjtBQUN6QixTQUFPQSxHQUFHLENBQUNkLElBQVg7QUFDRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9udDAxNTgvRG9jdW1lbnRvcy9NYXRoZXVzL3NhbGVzX3doYXRzYXBwL2JhY2tlbmQvYXBwL3NlcnZpY2VzL2F1dGgvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhc3Nwb3J0IGZyb20gXCJwYXNzcG9ydFwiO1xuXG5pbXBvcnQgeyBnZXRBdXRoQ29uZmlnLCBnZXRBbGxvd2VkRG9tYWlucyB9IGZyb20gXCIuLi8uLi9hcHAuY29uZmlnXCI7XG5cbmltcG9ydCB7IGRvbWFpbkF1dGhvcml6YXRpb24gfSBmcm9tIFwiLi9hdXRob3JpemF0aW9uXCI7XG5pbXBvcnQgeyBidWlsZEF1dGhTdHJhdGVneSB9IGZyb20gXCIuL3N0cmF0ZWd5XCI7XG5cbmNvbnN0IGF1dGhDb25maWcgPSBnZXRBdXRoQ29uZmlnKCk7XG5jb25zdCBpc0F1dGhvcml6ZWQgPSBkb21haW5BdXRob3JpemF0aW9uKGdldEFsbG93ZWREb21haW5zKCkpO1xuXG5wYXNzcG9ydC51c2UoYnVpbGRBdXRoU3RyYXRlZ3koYXV0aENvbmZpZywgaXNBdXRob3JpemVkKSk7XG5wYXNzcG9ydC5zZXJpYWxpemVVc2VyKCh1c2VyLCBkb25lKSA9PiBkb25lKG51bGwsIHVzZXIpKTtcbnBhc3Nwb3J0LmRlc2VyaWFsaXplVXNlcigodXNlciwgZG9uZSkgPT4gZG9uZShudWxsLCB1c2VyKSk7XG5cbmV4cG9ydCBjb25zdCBhdXRoU3RyYXRlZ3kgPSBhdXRoQ29uZmlnLmF1dGhTdHJhdGVneTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwQXBwQXV0aChhcHApIHtcbiAgYXBwLnVzZShwYXNzcG9ydC5pbml0aWFsaXplKCkpO1xuICBhcHAudXNlKHBhc3Nwb3J0LnNlc3Npb24oKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRoZW50aWNhdGlvbkhhbmRsZXIoKSB7XG4gIHJldHVybiBwYXNzcG9ydC5hdXRoZW50aWNhdGUoYXV0aFN0cmF0ZWd5LCB7IHNjb3BlOiBbXCJwcm9maWxlXCIsIFwiZW1haWxcIl0gfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRoZW50aWNhdGlvbkNhbGxiYWNrSGFuZGxlcih7XG4gIHN1Y2Nlc3NSZWRpcmVjdCxcbiAgZmFpbHVyZVJlZGlyZWN0LFxufSkge1xuICByZXR1cm4gZnVuY3Rpb24gKHJlcSwgcmVzcCwgbmV4dCkge1xuICAgIGNvbnN0IHJlZGlyZWN0VG9GYWlsdXJlID0gKGVycikgPT4ge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIHx8IFwiXCI7XG5cbiAgICAgIHJlc3BcbiAgICAgICAgLnN0YXR1cyg0MDEpXG4gICAgICAgIC5yZWRpcmVjdChcbiAgICAgICAgICBgJHtmYWlsdXJlUmVkaXJlY3R9P2Vycm9yPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVycm9yTWVzc2FnZSl9YFxuICAgICAgICApO1xuICAgIH07XG5cbiAgICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoYXV0aFN0cmF0ZWd5LCBmdW5jdGlvbiAoZXJyLCBwcm9maWxlKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiByZWRpcmVjdFRvRmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgIHJldHVybiByZWRpcmVjdFRvRmFpbHVyZSgpO1xuICAgICAgfVxuXG4gICAgICByZXEubG9naW4ocHJvZmlsZSwgKGVycikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlZGlyZWN0VG9GYWlsdXJlKGVycik7XG4gICAgICAgIH1cblxuICAgICAgICByZXNwLnJlZGlyZWN0KHN1Y2Nlc3NSZWRpcmVjdCk7XG4gICAgICB9KTtcbiAgICB9KShyZXEsIHJlc3AsIG5leHQpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3VycmVudFVzZXIocmVxKSB7XG4gIHJldHVybiByZXEudXNlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVXNlckxvZ2dlZEluKHJlcSkge1xuICByZXR1cm4gISFjdXJyZW50VXNlcihyZXEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nb3V0KHJlcSkge1xuICByZXEubG9nb3V0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZShyZXEpIHtcbiAgcmV0dXJuIHJlcS51c2VyO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "authConfig",
        "isAuthorized",
        "passport",
        "use",
        "serializeUser",
        "user",
        "done",
        "deserializeUser",
        "authStrategy",
        "setupAppAuth",
        "app",
        "initialize",
        "session",
        "authenticationHandler",
        "authenticate",
        "scope",
        "authenticationCallbackHandler",
        "successRedirect",
        "failureRedirect",
        "req",
        "resp",
        "next",
        "redirectToFailure",
        "err",
        "errorMessage",
        "status",
        "redirect",
        "encodeURIComponent",
        "profile",
        "login",
        "currentUser",
        "isUserLoggedIn",
        "logout",
        "getMe"
      ],
      "mappings": ";;;;;;;;;;;;;;AAAA;;AAEA;;AAEA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,yBAAnB;AACA,MAAMC,YAAY,GAAG,wCAAoB,6BAApB,CAArB;;AAEAC,kBAASC,GAAT,CAAa,iCAAkBH,UAAlB,EAA8BC,YAA9B,CAAb;;AACAC,kBAASE,aAAT,CAAuB,CAACC,IAAD,EAAOC,IAAP,KAAgBA,IAAI,CAAC,IAAD,EAAOD,IAAP,CAA3C;;AACAH,kBAASK,eAAT,CAAyB,CAACF,IAAD,EAAOC,IAAP,KAAgBA,IAAI,CAAC,IAAD,EAAOD,IAAP,CAA7C;;AAEO,MAAMG,YAAY,GAAGR,UAAU,CAACQ,YAAhC;;;AAEA,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;AAChCA,EAAAA,GAAG,CAACP,GAAJ,CAAQD,kBAASS,UAAT,EAAR;AACAD,EAAAA,GAAG,CAACP,GAAJ,CAAQD,kBAASU,OAAT,EAAR;AACD;;AAEM,SAASC,qBAAT,GAAiC;AACtC,SAAOX,kBAASY,YAAT,CAAsBN,YAAtB,EAAoC;AAAEO,IAAAA,KAAK,EAAE,CAAC,SAAD,EAAY,OAAZ;AAAT,GAApC,CAAP;AACD;;AAEM,SAASC,6BAAT,CAAuC;AAC5CC,EAAAA,eAD4C;AAE5CC,EAAAA;AAF4C,CAAvC,EAGJ;AACD,SAAO,UAAUC,GAAV,EAAeC,IAAf,EAAqBC,IAArB,EAA2B;AAChC,UAAMC,iBAAiB,GAAIC,GAAD,IAAS;AACjC,YAAMC,YAAY,GAAGD,GAAG,IAAI,EAA5B;AAEAH,MAAAA,IAAI,CACDK,MADH,CACU,GADV,EAEGC,QAFH,CAGK,GAAER,eAAgB,UAASS,kBAAkB,CAACH,YAAD,CAAe,EAHjE;AAKD,KARD;;AAUAtB,sBAASY,YAAT,CAAsBN,YAAtB,EAAoC,UAAUe,GAAV,EAAeK,OAAf,EAAwB;AAC1D,UAAIL,GAAJ,EAAS;AACP,eAAOD,iBAAiB,CAACC,GAAD,CAAxB;AACD;;AACD,UAAI,CAACK,OAAL,EAAc;AACZ,eAAON,iBAAiB,EAAxB;AACD;;AAEDH,MAAAA,GAAG,CAACU,KAAJ,CAAUD,OAAV,EAAoBL,GAAD,IAAS;AAC1B,YAAIA,GAAJ,EAAS;AACP,iBAAOD,iBAAiB,CAACC,GAAD,CAAxB;AACD;;AAEDH,QAAAA,IAAI,CAACM,QAAL,CAAcT,eAAd;AACD,OAND;AAOD,KAfD,EAeGE,GAfH,EAeQC,IAfR,EAecC,IAfd;AAgBD,GA3BD;AA4BD;;AAEM,SAASS,WAAT,CAAqBX,GAArB,EAA0B;AAC/B,SAAOA,GAAG,CAACd,IAAX;AACD;;AAEM,SAAS0B,cAAT,CAAwBZ,GAAxB,EAA6B;AAClC,SAAO,CAAC,CAACW,WAAW,CAACX,GAAD,CAApB;AACD;;AAEM,SAASa,MAAT,CAAgBb,GAAhB,EAAqB;AAC1BA,EAAAA,GAAG,CAACa,MAAJ;AACD;;AAEM,SAASC,KAAT,CAAed,GAAf,EAAoB;AACzB,SAAOA,GAAG,CAACd,IAAX;AACD",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/",
      "sourcesContent": [
        "import passport from \"passport\";\n\nimport { getAuthConfig, getAllowedDomains } from \"../../app.config\";\n\nimport { domainAuthorization } from \"./authorization\";\nimport { buildAuthStrategy } from \"./strategy\";\n\nconst authConfig = getAuthConfig();\nconst isAuthorized = domainAuthorization(getAllowedDomains());\n\npassport.use(buildAuthStrategy(authConfig, isAuthorized));\npassport.serializeUser((user, done) => done(null, user));\npassport.deserializeUser((user, done) => done(null, user));\n\nexport const authStrategy = authConfig.authStrategy;\n\nexport function setupAppAuth(app) {\n  app.use(passport.initialize());\n  app.use(passport.session());\n}\n\nexport function authenticationHandler() {\n  return passport.authenticate(authStrategy, { scope: [\"profile\", \"email\"] });\n}\n\nexport function authenticationCallbackHandler({\n  successRedirect,\n  failureRedirect,\n}) {\n  return function (req, resp, next) {\n    const redirectToFailure = (err) => {\n      const errorMessage = err || \"\";\n\n      resp\n        .status(401)\n        .redirect(\n          `${failureRedirect}?error=${encodeURIComponent(errorMessage)}`\n        );\n    };\n\n    passport.authenticate(authStrategy, function (err, profile) {\n      if (err) {\n        return redirectToFailure(err);\n      }\n      if (!profile) {\n        return redirectToFailure();\n      }\n\n      req.login(profile, (err) => {\n        if (err) {\n          return redirectToFailure(err);\n        }\n\n        resp.redirect(successRedirect);\n      });\n    })(req, resp, next);\n  };\n}\n\nexport function currentUser(req) {\n  return req.user;\n}\n\nexport function isUserLoggedIn(req) {\n  return !!currentUser(req);\n}\n\nexport function logout(req) {\n  req.logout();\n}\n\nexport function getMe(req) {\n  return req.user;\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592187556675
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.config.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
        "sourceFileName": "app.config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getME = getME;\nexports.getCategories = getCategories;\nexports.getProducts = getProducts;\nexports.shouldEnforceSSL = shouldEnforceSSL;\nexports.getEnvironment = getEnvironment;\nexports.getSessionConfig = getSessionConfig;\nexports.getAuthConfig = getAuthConfig;\nexports.getAllowedDomains = getAllowedDomains;\nexports.getServerConfig = getServerConfig;\n\nvar _environment = _interopRequireDefault(require(\"./helpers/environment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getME() {\n  const meSource = process.env.ME_SOURCE;\n  return meSource;\n}\n\nfunction getCategories() {\n  const categoriesSource = process.env.CATEGORIES_SOURCE;\n  return categoriesSource;\n}\n\nfunction getProducts() {\n  const productsSource = process.env.PRODUCTS_SOURCE;\n  return productsSource;\n}\n\nfunction shouldEnforceSSL() {\n  const enforceSSL = process.env.ENFORCE_SSL || \"false\";\n  return enforceSSL === \"true\";\n}\n\nfunction getEnvironment() {\n  return process.env.NODE_ENV;\n}\n\nfunction getSessionConfig() {\n  const cookieSessionKey = process.env.COOKIE_SESSION_SECRET || \"numenu-session\";\n  const maxAge = _environment.default.parseVariable(process.env.COOKIE_SESSION_MAX_AGE) || 30 * 24 * 60 * 60 * 1000; // 30 days\n\n  return {\n    name: \"numenu-session\",\n    keys: [cookieSessionKey],\n    maxAge\n  };\n}\n\nfunction getAuthConfig() {\n  const defaultAuthStrategy = \"google\";\n  const clientID = process.env.GOOGLE_CLIENT_ID || \"1038749742357-n75fcue19ltln1md2lb0d1l5c8gns7bf.apps.googleusercontent.com\";\n  const clientSecret = process.env.GOOGLE_SECRET || \"0_8oyqYeMmdnqOvRvZjkL5z3\";\n  const callbackURL = process.env.GOOGLE_CALLBACK_URL || \"http://localhost:8080/auth/google/callback\";\n  return {\n    authStrategy: defaultAuthStrategy,\n    clientID,\n    clientSecret,\n    callbackURL\n  };\n}\n\nfunction getAllowedDomains() {\n  const allowedDomains = _environment.default.parseVariable(process.env.WHITELIST_DOMAINS) || [\"*\"];\n  return allowedDomains;\n}\n\nfunction getServerConfig() {\n  const host = \"0.0.0.0\";\n  const port = process.env.PORT || 8080;\n  return {\n    host,\n    port\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb25maWcuanMiXSwibmFtZXMiOlsiZ2V0TUUiLCJtZVNvdXJjZSIsInByb2Nlc3MiLCJlbnYiLCJNRV9TT1VSQ0UiLCJnZXRDYXRlZ29yaWVzIiwiY2F0ZWdvcmllc1NvdXJjZSIsIkNBVEVHT1JJRVNfU09VUkNFIiwiZ2V0UHJvZHVjdHMiLCJwcm9kdWN0c1NvdXJjZSIsIlBST0RVQ1RTX1NPVVJDRSIsInNob3VsZEVuZm9yY2VTU0wiLCJlbmZvcmNlU1NMIiwiRU5GT1JDRV9TU0wiLCJnZXRFbnZpcm9ubWVudCIsIk5PREVfRU5WIiwiZ2V0U2Vzc2lvbkNvbmZpZyIsImNvb2tpZVNlc3Npb25LZXkiLCJDT09LSUVfU0VTU0lPTl9TRUNSRVQiLCJtYXhBZ2UiLCJlbnZpcm9ubWVudCIsInBhcnNlVmFyaWFibGUiLCJDT09LSUVfU0VTU0lPTl9NQVhfQUdFIiwibmFtZSIsImtleXMiLCJnZXRBdXRoQ29uZmlnIiwiZGVmYXVsdEF1dGhTdHJhdGVneSIsImNsaWVudElEIiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9TRUNSRVQiLCJjYWxsYmFja1VSTCIsIkdPT0dMRV9DQUxMQkFDS19VUkwiLCJhdXRoU3RyYXRlZ3kiLCJnZXRBbGxvd2VkRG9tYWlucyIsImFsbG93ZWREb21haW5zIiwiV0hJVEVMSVNUX0RPTUFJTlMiLCJnZXRTZXJ2ZXJDb25maWciLCJob3N0IiwicG9ydCIsIlBPUlQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBRU8sU0FBU0EsS0FBVCxHQUFpQjtBQUN0QixRQUFNQyxRQUFRLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxTQUE3QjtBQUNBLFNBQU9ILFFBQVA7QUFDRDs7QUFFTSxTQUFTSSxhQUFULEdBQXlCO0FBQzlCLFFBQU1DLGdCQUFnQixHQUFHSixPQUFPLENBQUNDLEdBQVIsQ0FBWUksaUJBQXJDO0FBQ0EsU0FBT0QsZ0JBQVA7QUFDRDs7QUFFTSxTQUFTRSxXQUFULEdBQXVCO0FBQzVCLFFBQU1DLGNBQWMsR0FBR1AsT0FBTyxDQUFDQyxHQUFSLENBQVlPLGVBQW5DO0FBQ0EsU0FBT0QsY0FBUDtBQUNEOztBQUVNLFNBQVNFLGdCQUFULEdBQTRCO0FBQ2pDLFFBQU1DLFVBQVUsR0FBR1YsT0FBTyxDQUFDQyxHQUFSLENBQVlVLFdBQVosSUFBMkIsT0FBOUM7QUFFQSxTQUFPRCxVQUFVLEtBQUssTUFBdEI7QUFDRDs7QUFFTSxTQUFTRSxjQUFULEdBQTBCO0FBQy9CLFNBQU9aLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWSxRQUFuQjtBQUNEOztBQUVNLFNBQVNDLGdCQUFULEdBQTRCO0FBQ2pDLFFBQU1DLGdCQUFnQixHQUNwQmYsT0FBTyxDQUFDQyxHQUFSLENBQVllLHFCQUFaLElBQXFDLGdCQUR2QztBQUVBLFFBQU1DLE1BQU0sR0FDVkMscUJBQVlDLGFBQVosQ0FBMEJuQixPQUFPLENBQUNDLEdBQVIsQ0FBWW1CLHNCQUF0QyxLQUNBLEtBQUssRUFBTCxHQUFVLEVBQVYsR0FBZSxFQUFmLEdBQW9CLElBRnRCLENBSGlDLENBS0w7O0FBRTVCLFNBQU87QUFDTEMsSUFBQUEsSUFBSSxFQUFFLGdCQUREO0FBRUxDLElBQUFBLElBQUksRUFBRSxDQUFDUCxnQkFBRCxDQUZEO0FBR0xFLElBQUFBO0FBSEssR0FBUDtBQUtEOztBQUVNLFNBQVNNLGFBQVQsR0FBeUI7QUFDOUIsUUFBTUMsbUJBQW1CLEdBQUcsUUFBNUI7QUFDQSxRQUFNQyxRQUFRLEdBQ1p6QixPQUFPLENBQUNDLEdBQVIsQ0FBWXlCLGdCQUFaLElBQ0EsMkVBRkY7QUFHQSxRQUFNQyxZQUFZLEdBQUczQixPQUFPLENBQUNDLEdBQVIsQ0FBWTJCLGFBQVosSUFBNkIsMEJBQWxEO0FBQ0EsUUFBTUMsV0FBVyxHQUNmN0IsT0FBTyxDQUFDQyxHQUFSLENBQVk2QixtQkFBWixJQUNBLDRDQUZGO0FBSUEsU0FBTztBQUNMQyxJQUFBQSxZQUFZLEVBQUVQLG1CQURUO0FBRUxDLElBQUFBLFFBRks7QUFHTEUsSUFBQUEsWUFISztBQUlMRSxJQUFBQTtBQUpLLEdBQVA7QUFNRDs7QUFFTSxTQUFTRyxpQkFBVCxHQUE2QjtBQUNsQyxRQUFNQyxjQUFjLEdBQUdmLHFCQUFZQyxhQUFaLENBQ3JCbkIsT0FBTyxDQUFDQyxHQUFSLENBQVlpQyxpQkFEUyxLQUVsQixDQUFDLEdBQUQsQ0FGTDtBQUdBLFNBQU9ELGNBQVA7QUFDRDs7QUFFTSxTQUFTRSxlQUFULEdBQTJCO0FBQ2hDLFFBQU1DLElBQUksR0FBRyxTQUFiO0FBQ0EsUUFBTUMsSUFBSSxHQUFHckMsT0FBTyxDQUFDQyxHQUFSLENBQVlxQyxJQUFaLElBQW9CLElBQWpDO0FBRUEsU0FBTztBQUFFRixJQUFBQSxJQUFGO0FBQVFDLElBQUFBO0FBQVIsR0FBUDtBQUNEIiwic291cmNlUm9vdCI6Ii9ob21lL250MDE1OC9Eb2N1bWVudG9zL01hdGhldXMvc2FsZXNfd2hhdHNhcHAvYmFja2VuZC9hcHAvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVudmlyb25tZW50IGZyb20gXCIuL2hlbHBlcnMvZW52aXJvbm1lbnRcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1FKCkge1xuICBjb25zdCBtZVNvdXJjZSA9IHByb2Nlc3MuZW52Lk1FX1NPVVJDRTtcbiAgcmV0dXJuIG1lU291cmNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcygpIHtcbiAgY29uc3QgY2F0ZWdvcmllc1NvdXJjZSA9IHByb2Nlc3MuZW52LkNBVEVHT1JJRVNfU09VUkNFO1xuICByZXR1cm4gY2F0ZWdvcmllc1NvdXJjZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2R1Y3RzKCkge1xuICBjb25zdCBwcm9kdWN0c1NvdXJjZSA9IHByb2Nlc3MuZW52LlBST0RVQ1RTX1NPVVJDRTtcbiAgcmV0dXJuIHByb2R1Y3RzU291cmNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkRW5mb3JjZVNTTCgpIHtcbiAgY29uc3QgZW5mb3JjZVNTTCA9IHByb2Nlc3MuZW52LkVORk9SQ0VfU1NMIHx8IFwiZmFsc2VcIjtcblxuICByZXR1cm4gZW5mb3JjZVNTTCA9PT0gXCJ0cnVlXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudCgpIHtcbiAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Vzc2lvbkNvbmZpZygpIHtcbiAgY29uc3QgY29va2llU2Vzc2lvbktleSA9XG4gICAgcHJvY2Vzcy5lbnYuQ09PS0lFX1NFU1NJT05fU0VDUkVUIHx8IFwibnVtZW51LXNlc3Npb25cIjtcbiAgY29uc3QgbWF4QWdlID1cbiAgICBlbnZpcm9ubWVudC5wYXJzZVZhcmlhYmxlKHByb2Nlc3MuZW52LkNPT0tJRV9TRVNTSU9OX01BWF9BR0UpIHx8XG4gICAgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwOyAvLyAzMCBkYXlzXG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcIm51bWVudS1zZXNzaW9uXCIsXG4gICAga2V5czogW2Nvb2tpZVNlc3Npb25LZXldLFxuICAgIG1heEFnZSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF1dGhDb25maWcoKSB7XG4gIGNvbnN0IGRlZmF1bHRBdXRoU3RyYXRlZ3kgPSBcImdvb2dsZVwiO1xuICBjb25zdCBjbGllbnRJRCA9XG4gICAgcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCB8fFxuICAgIFwiMTAzODc0OTc0MjM1Ny1uNzVmY3VlMTlsdGxuMW1kMmxiMGQxbDVjOGduczdiZi5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbVwiO1xuICBjb25zdCBjbGllbnRTZWNyZXQgPSBwcm9jZXNzLmVudi5HT09HTEVfU0VDUkVUIHx8IFwiMF84b3lxWWVNbWRucU92UnZaamtMNXozXCI7XG4gIGNvbnN0IGNhbGxiYWNrVVJMID1cbiAgICBwcm9jZXNzLmVudi5HT09HTEVfQ0FMTEJBQ0tfVVJMIHx8XG4gICAgXCJodHRwOi8vbG9jYWxob3N0OjgwODAvYXV0aC9nb29nbGUvY2FsbGJhY2tcIjtcblxuICByZXR1cm4ge1xuICAgIGF1dGhTdHJhdGVneTogZGVmYXVsdEF1dGhTdHJhdGVneSxcbiAgICBjbGllbnRJRCxcbiAgICBjbGllbnRTZWNyZXQsXG4gICAgY2FsbGJhY2tVUkwsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxvd2VkRG9tYWlucygpIHtcbiAgY29uc3QgYWxsb3dlZERvbWFpbnMgPSBlbnZpcm9ubWVudC5wYXJzZVZhcmlhYmxlKFxuICAgIHByb2Nlc3MuZW52LldISVRFTElTVF9ET01BSU5TXG4gICkgfHwgW1wiKlwiXTtcbiAgcmV0dXJuIGFsbG93ZWREb21haW5zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VydmVyQ29uZmlnKCkge1xuICBjb25zdCBob3N0ID0gXCIwLjAuMC4wXCI7XG4gIGNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDgwODA7XG5cbiAgcmV0dXJuIHsgaG9zdCwgcG9ydCB9O1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "app.config.js"
      ],
      "names": [
        "getME",
        "meSource",
        "process",
        "env",
        "ME_SOURCE",
        "getCategories",
        "categoriesSource",
        "CATEGORIES_SOURCE",
        "getProducts",
        "productsSource",
        "PRODUCTS_SOURCE",
        "shouldEnforceSSL",
        "enforceSSL",
        "ENFORCE_SSL",
        "getEnvironment",
        "NODE_ENV",
        "getSessionConfig",
        "cookieSessionKey",
        "COOKIE_SESSION_SECRET",
        "maxAge",
        "environment",
        "parseVariable",
        "COOKIE_SESSION_MAX_AGE",
        "name",
        "keys",
        "getAuthConfig",
        "defaultAuthStrategy",
        "clientID",
        "GOOGLE_CLIENT_ID",
        "clientSecret",
        "GOOGLE_SECRET",
        "callbackURL",
        "GOOGLE_CALLBACK_URL",
        "authStrategy",
        "getAllowedDomains",
        "allowedDomains",
        "WHITELIST_DOMAINS",
        "getServerConfig",
        "host",
        "port",
        "PORT"
      ],
      "mappings": ";;;;;;;;;;;;;;;AAAA;;;;AAEO,SAASA,KAAT,GAAiB;AACtB,QAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,SAA7B;AACA,SAAOH,QAAP;AACD;;AAEM,SAASI,aAAT,GAAyB;AAC9B,QAAMC,gBAAgB,GAAGJ,OAAO,CAACC,GAAR,CAAYI,iBAArC;AACA,SAAOD,gBAAP;AACD;;AAEM,SAASE,WAAT,GAAuB;AAC5B,QAAMC,cAAc,GAAGP,OAAO,CAACC,GAAR,CAAYO,eAAnC;AACA,SAAOD,cAAP;AACD;;AAEM,SAASE,gBAAT,GAA4B;AACjC,QAAMC,UAAU,GAAGV,OAAO,CAACC,GAAR,CAAYU,WAAZ,IAA2B,OAA9C;AAEA,SAAOD,UAAU,KAAK,MAAtB;AACD;;AAEM,SAASE,cAAT,GAA0B;AAC/B,SAAOZ,OAAO,CAACC,GAAR,CAAYY,QAAnB;AACD;;AAEM,SAASC,gBAAT,GAA4B;AACjC,QAAMC,gBAAgB,GACpBf,OAAO,CAACC,GAAR,CAAYe,qBAAZ,IAAqC,gBADvC;AAEA,QAAMC,MAAM,GACVC,qBAAYC,aAAZ,CAA0BnB,OAAO,CAACC,GAAR,CAAYmB,sBAAtC,KACA,KAAK,EAAL,GAAU,EAAV,GAAe,EAAf,GAAoB,IAFtB,CAHiC,CAKL;;AAE5B,SAAO;AACLC,IAAAA,IAAI,EAAE,gBADD;AAELC,IAAAA,IAAI,EAAE,CAACP,gBAAD,CAFD;AAGLE,IAAAA;AAHK,GAAP;AAKD;;AAEM,SAASM,aAAT,GAAyB;AAC9B,QAAMC,mBAAmB,GAAG,QAA5B;AACA,QAAMC,QAAQ,GACZzB,OAAO,CAACC,GAAR,CAAYyB,gBAAZ,IACA,2EAFF;AAGA,QAAMC,YAAY,GAAG3B,OAAO,CAACC,GAAR,CAAY2B,aAAZ,IAA6B,0BAAlD;AACA,QAAMC,WAAW,GACf7B,OAAO,CAACC,GAAR,CAAY6B,mBAAZ,IACA,4CAFF;AAIA,SAAO;AACLC,IAAAA,YAAY,EAAEP,mBADT;AAELC,IAAAA,QAFK;AAGLE,IAAAA,YAHK;AAILE,IAAAA;AAJK,GAAP;AAMD;;AAEM,SAASG,iBAAT,GAA6B;AAClC,QAAMC,cAAc,GAAGf,qBAAYC,aAAZ,CACrBnB,OAAO,CAACC,GAAR,CAAYiC,iBADS,KAElB,CAAC,GAAD,CAFL;AAGA,SAAOD,cAAP;AACD;;AAEM,SAASE,eAAT,GAA2B;AAChC,QAAMC,IAAI,GAAG,SAAb;AACA,QAAMC,IAAI,GAAGrC,OAAO,CAACC,GAAR,CAAYqC,IAAZ,IAAoB,IAAjC;AAEA,SAAO;AAAEF,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAP;AACD",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "sourcesContent": [
        "import environment from \"./helpers/environment\";\n\nexport function getME() {\n  const meSource = process.env.ME_SOURCE;\n  return meSource;\n}\n\nexport function getCategories() {\n  const categoriesSource = process.env.CATEGORIES_SOURCE;\n  return categoriesSource;\n}\n\nexport function getProducts() {\n  const productsSource = process.env.PRODUCTS_SOURCE;\n  return productsSource;\n}\n\nexport function shouldEnforceSSL() {\n  const enforceSSL = process.env.ENFORCE_SSL || \"false\";\n\n  return enforceSSL === \"true\";\n}\n\nexport function getEnvironment() {\n  return process.env.NODE_ENV;\n}\n\nexport function getSessionConfig() {\n  const cookieSessionKey =\n    process.env.COOKIE_SESSION_SECRET || \"numenu-session\";\n  const maxAge =\n    environment.parseVariable(process.env.COOKIE_SESSION_MAX_AGE) ||\n    30 * 24 * 60 * 60 * 1000; // 30 days\n\n  return {\n    name: \"numenu-session\",\n    keys: [cookieSessionKey],\n    maxAge,\n  };\n}\n\nexport function getAuthConfig() {\n  const defaultAuthStrategy = \"google\";\n  const clientID =\n    process.env.GOOGLE_CLIENT_ID ||\n    \"1038749742357-n75fcue19ltln1md2lb0d1l5c8gns7bf.apps.googleusercontent.com\";\n  const clientSecret = process.env.GOOGLE_SECRET || \"0_8oyqYeMmdnqOvRvZjkL5z3\";\n  const callbackURL =\n    process.env.GOOGLE_CALLBACK_URL ||\n    \"http://localhost:8080/auth/google/callback\";\n\n  return {\n    authStrategy: defaultAuthStrategy,\n    clientID,\n    clientSecret,\n    callbackURL,\n  };\n}\n\nexport function getAllowedDomains() {\n  const allowedDomains = environment.parseVariable(\n    process.env.WHITELIST_DOMAINS\n  ) || [\"*\"];\n  return allowedDomains;\n}\n\nexport function getServerConfig() {\n  const host = \"0.0.0.0\";\n  const port = process.env.PORT || 8080;\n\n  return { host, port };\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592365964505
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/helpers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/helpers/environment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/helpers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/helpers/environment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/helpers/environment.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/helpers/environment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/helpers/",
        "sourceFileName": "environment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst environment = {\n  parseVariable(envVar) {\n    if (envVar) {\n      try {\n        return JSON.parse(envVar); // eslint-disable-next-line no-empty\n      } catch (error) {}\n    }\n\n    return undefined;\n  }\n\n};\nmodule.exports = environment;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50LmpzIl0sIm5hbWVzIjpbImVudmlyb25tZW50IiwicGFyc2VWYXJpYWJsZSIsImVudlZhciIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxXQUFXLEdBQUc7QUFDbEJDLEVBQUFBLGFBQWEsQ0FBQ0MsTUFBRCxFQUFTO0FBQ3BCLFFBQUlBLE1BQUosRUFBWTtBQUNWLFVBQUk7QUFDRixlQUFPQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0YsTUFBWCxDQUFQLENBREUsQ0FFSjtBQUNDLE9BSEQsQ0FHRSxPQUFPRyxLQUFQLEVBQWMsQ0FBRTtBQUNuQjs7QUFFRCxXQUFPQyxTQUFQO0FBQ0Q7O0FBVmlCLENBQXBCO0FBYUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlIsV0FBakIiLCJzb3VyY2VSb290IjoiL2hvbWUvbnQwMTU4L0RvY3VtZW50b3MvTWF0aGV1cy9zYWxlc193aGF0c2FwcC9iYWNrZW5kL2FwcC9oZWxwZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGVudmlyb25tZW50ID0ge1xuICBwYXJzZVZhcmlhYmxlKGVudlZhcikge1xuICAgIGlmIChlbnZWYXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGVudlZhcik7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudmlyb25tZW50O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "environment.js"
      ],
      "names": [
        "environment",
        "parseVariable",
        "envVar",
        "JSON",
        "parse",
        "error",
        "undefined",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,WAAW,GAAG;AAClBC,EAAAA,aAAa,CAACC,MAAD,EAAS;AACpB,QAAIA,MAAJ,EAAY;AACV,UAAI;AACF,eAAOC,IAAI,CAACC,KAAL,CAAWF,MAAX,CAAP,CADE,CAEJ;AACC,OAHD,CAGE,OAAOG,KAAP,EAAc,CAAE;AACnB;;AAED,WAAOC,SAAP;AACD;;AAViB,CAApB;AAaAC,MAAM,CAACC,OAAP,GAAiBR,WAAjB",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/helpers/",
      "sourcesContent": [
        "const environment = {\n  parseVariable(envVar) {\n    if (envVar) {\n      try {\n        return JSON.parse(envVar);\n      // eslint-disable-next-line no-empty\n      } catch (error) {}\n    }\n\n    return undefined;\n  },\n};\n\nmodule.exports = environment;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1589291082000
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/authorization.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/authorization.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/authorization.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/authorization.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/",
        "sourceFileName": "authorization.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.domainAuthorization = domainAuthorization;\n\nfunction domainAuthorization(allowedDomains) {\n  const allowedDomainsSet = new Set(allowedDomains);\n  return ({\n    email\n  }) => {\n    /* if (allowedDomainsSet.size === 0) {\n      return true;\n    }\n     if (email === undefined) {\n      return false\n    }\n     const [_, domain] = email.split(\"@\"); */\n    return true; // allowedDomainsSet.has(domain);\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvcml6YXRpb24uanMiXSwibmFtZXMiOlsiZG9tYWluQXV0aG9yaXphdGlvbiIsImFsbG93ZWREb21haW5zIiwiYWxsb3dlZERvbWFpbnNTZXQiLCJTZXQiLCJlbWFpbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLFNBQVNBLG1CQUFULENBQTZCQyxjQUE3QixFQUE2QztBQUNsRCxRQUFNQyxpQkFBaUIsR0FBRyxJQUFJQyxHQUFKLENBQVFGLGNBQVIsQ0FBMUI7QUFFQSxTQUFPLENBQUM7QUFBRUcsSUFBQUE7QUFBRixHQUFELEtBQWU7QUFDcEI7Ozs7Ozs7QUFVQSxXQUFPLElBQVAsQ0FYb0IsQ0FXUjtBQUNiLEdBWkQ7QUFhRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9udDAxNTgvRG9jdW1lbnRvcy9NYXRoZXVzL3NhbGVzX3doYXRzYXBwL2JhY2tlbmQvYXBwL3NlcnZpY2VzL2F1dGgvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGRvbWFpbkF1dGhvcml6YXRpb24oYWxsb3dlZERvbWFpbnMpIHtcbiAgY29uc3QgYWxsb3dlZERvbWFpbnNTZXQgPSBuZXcgU2V0KGFsbG93ZWREb21haW5zKTtcblxuICByZXR1cm4gKHsgZW1haWwgfSkgPT4ge1xuICAgIC8qIGlmIChhbGxvd2VkRG9tYWluc1NldC5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoZW1haWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgW18sIGRvbWFpbl0gPSBlbWFpbC5zcGxpdChcIkBcIik7ICovXG5cbiAgICByZXR1cm4gdHJ1ZSAvLyBhbGxvd2VkRG9tYWluc1NldC5oYXMoZG9tYWluKTtcbiAgfTtcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "authorization.js"
      ],
      "names": [
        "domainAuthorization",
        "allowedDomains",
        "allowedDomainsSet",
        "Set",
        "email"
      ],
      "mappings": ";;;;;;;AAAO,SAASA,mBAAT,CAA6BC,cAA7B,EAA6C;AAClD,QAAMC,iBAAiB,GAAG,IAAIC,GAAJ,CAAQF,cAAR,CAA1B;AAEA,SAAO,CAAC;AAAEG,IAAAA;AAAF,GAAD,KAAe;AACpB;;;;;;;AAUA,WAAO,IAAP,CAXoB,CAWR;AACb,GAZD;AAaD",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/",
      "sourcesContent": [
        "export function domainAuthorization(allowedDomains) {\n  const allowedDomainsSet = new Set(allowedDomains);\n\n  return ({ email }) => {\n    /* if (allowedDomainsSet.size === 0) {\n      return true;\n    }\n\n    if (email === undefined) {\n      return false\n    }\n\n    const [_, domain] = email.split(\"@\"); */\n\n    return true // allowedDomainsSet.has(domain);\n  };\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592271102821
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/strategy.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/strategy.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/strategy.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/strategy.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/",
        "sourceFileName": "strategy.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.googleProfileToMatrixProfile = googleProfileToMatrixProfile;\nexports.buildAuthStrategy = buildAuthStrategy;\n\nvar _passportGoogleOauth = require(\"passport-google-oauth20\");\n\nfunction googleProfileToMatrixProfile(profile) {\n  var _emails$, _photos$;\n\n  const {\n    id,\n    emails,\n    displayName: name,\n    photos,\n    provider\n  } = profile;\n  const email = emails === null || emails === void 0 ? void 0 : (_emails$ = emails[0]) === null || _emails$ === void 0 ? void 0 : _emails$.value;\n  const imageUrl = photos === null || photos === void 0 ? void 0 : (_photos$ = photos[0]) === null || _photos$ === void 0 ? void 0 : _photos$.value;\n  return {\n    id,\n    imageUrl,\n    provider,\n    name,\n    email\n  };\n}\n\nfunction buildAuthStrategy({\n  clientID,\n  clientSecret,\n  callbackURL\n}, isAuthorized) {\n  return new _passportGoogleOauth.Strategy({\n    clientID,\n    clientSecret,\n    callbackURL\n  }, (accessToken, refreshToken, googleProfile, cb) => {\n    const profile = googleProfileToMatrixProfile(googleProfile);\n    /* if (!isAuthorized(profile)) {\n      return cb(new Error(`E-mail ${profile.email} is not authorized`));\n    } */\n\n    return cb(undefined, profile);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmF0ZWd5LmpzIl0sIm5hbWVzIjpbImdvb2dsZVByb2ZpbGVUb01hdHJpeFByb2ZpbGUiLCJwcm9maWxlIiwiaWQiLCJlbWFpbHMiLCJkaXNwbGF5TmFtZSIsIm5hbWUiLCJwaG90b3MiLCJwcm92aWRlciIsImVtYWlsIiwidmFsdWUiLCJpbWFnZVVybCIsImJ1aWxkQXV0aFN0cmF0ZWd5IiwiY2xpZW50SUQiLCJjbGllbnRTZWNyZXQiLCJjYWxsYmFja1VSTCIsImlzQXV0aG9yaXplZCIsIkdvb2dsZU9BdXRoIiwiYWNjZXNzVG9rZW4iLCJyZWZyZXNoVG9rZW4iLCJnb29nbGVQcm9maWxlIiwiY2IiLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBRU8sU0FBU0EsNEJBQVQsQ0FBc0NDLE9BQXRDLEVBQStDO0FBQUE7O0FBQ3BELFFBQU07QUFBRUMsSUFBQUEsRUFBRjtBQUFNQyxJQUFBQSxNQUFOO0FBQWNDLElBQUFBLFdBQVcsRUFBRUMsSUFBM0I7QUFBaUNDLElBQUFBLE1BQWpDO0FBQXlDQyxJQUFBQTtBQUF6QyxNQUFzRE4sT0FBNUQ7QUFFQSxRQUFNTyxLQUFLLEdBQUdMLE1BQUgsYUFBR0EsTUFBSCxtQ0FBR0EsTUFBTSxDQUFHLENBQUgsQ0FBVCw2Q0FBRyxTQUFhTSxLQUEzQjtBQUNBLFFBQU1DLFFBQVEsR0FBR0osTUFBSCxhQUFHQSxNQUFILG1DQUFHQSxNQUFNLENBQUcsQ0FBSCxDQUFULDZDQUFHLFNBQWFHLEtBQTlCO0FBRUEsU0FBTztBQUNMUCxJQUFBQSxFQURLO0FBRUxRLElBQUFBLFFBRks7QUFHTEgsSUFBQUEsUUFISztBQUlMRixJQUFBQSxJQUpLO0FBS0xHLElBQUFBO0FBTEssR0FBUDtBQU9EOztBQUVNLFNBQVNHLGlCQUFULENBQ0w7QUFBRUMsRUFBQUEsUUFBRjtBQUFZQyxFQUFBQSxZQUFaO0FBQTBCQyxFQUFBQTtBQUExQixDQURLLEVBRUxDLFlBRkssRUFHTDtBQUNBLFNBQU8sSUFBSUMsNkJBQUosQ0FDTDtBQUFFSixJQUFBQSxRQUFGO0FBQVlDLElBQUFBLFlBQVo7QUFBMEJDLElBQUFBO0FBQTFCLEdBREssRUFHTCxDQUFDRyxXQUFELEVBQWNDLFlBQWQsRUFBNEJDLGFBQTVCLEVBQTJDQyxFQUEzQyxLQUFrRDtBQUNoRCxVQUFNbkIsT0FBTyxHQUFHRCw0QkFBNEIsQ0FBQ21CLGFBQUQsQ0FBNUM7QUFFQTs7OztBQUlBLFdBQU9DLEVBQUUsQ0FBQ0MsU0FBRCxFQUFZcEIsT0FBWixDQUFUO0FBQ0QsR0FYSSxDQUFQO0FBYUQiLCJzb3VyY2VSb290IjoiL2hvbWUvbnQwMTU4L0RvY3VtZW50b3MvTWF0aGV1cy9zYWxlc193aGF0c2FwcC9iYWNrZW5kL2FwcC9zZXJ2aWNlcy9hdXRoLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0cmF0ZWd5IGFzIEdvb2dsZU9BdXRoIH0gZnJvbSBcInBhc3Nwb3J0LWdvb2dsZS1vYXV0aDIwXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVQcm9maWxlVG9NYXRyaXhQcm9maWxlKHByb2ZpbGUpIHtcbiAgY29uc3QgeyBpZCwgZW1haWxzLCBkaXNwbGF5TmFtZTogbmFtZSwgcGhvdG9zLCBwcm92aWRlciB9ID0gcHJvZmlsZTtcblxuICBjb25zdCBlbWFpbCA9IGVtYWlscz8uWzBdPy52YWx1ZTtcbiAgY29uc3QgaW1hZ2VVcmwgPSBwaG90b3M/LlswXT8udmFsdWU7XG5cbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICBpbWFnZVVybCxcbiAgICBwcm92aWRlcixcbiAgICBuYW1lLFxuICAgIGVtYWlsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEF1dGhTdHJhdGVneShcbiAgeyBjbGllbnRJRCwgY2xpZW50U2VjcmV0LCBjYWxsYmFja1VSTCB9LFxuICBpc0F1dGhvcml6ZWRcbikge1xuICByZXR1cm4gbmV3IEdvb2dsZU9BdXRoKFxuICAgIHsgY2xpZW50SUQsIGNsaWVudFNlY3JldCwgY2FsbGJhY2tVUkwgfSxcblxuICAgIChhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBnb29nbGVQcm9maWxlLCBjYikgPT4ge1xuICAgICAgY29uc3QgcHJvZmlsZSA9IGdvb2dsZVByb2ZpbGVUb01hdHJpeFByb2ZpbGUoZ29vZ2xlUHJvZmlsZSk7XG5cbiAgICAgIC8qIGlmICghaXNBdXRob3JpemVkKHByb2ZpbGUpKSB7XG4gICAgICAgIHJldHVybiBjYihuZXcgRXJyb3IoYEUtbWFpbCAke3Byb2ZpbGUuZW1haWx9IGlzIG5vdCBhdXRob3JpemVkYCkpO1xuICAgICAgfSAqL1xuXG4gICAgICByZXR1cm4gY2IodW5kZWZpbmVkLCBwcm9maWxlKTtcbiAgICB9XG4gICk7XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "strategy.js"
      ],
      "names": [
        "googleProfileToMatrixProfile",
        "profile",
        "id",
        "emails",
        "displayName",
        "name",
        "photos",
        "provider",
        "email",
        "value",
        "imageUrl",
        "buildAuthStrategy",
        "clientID",
        "clientSecret",
        "callbackURL",
        "isAuthorized",
        "GoogleOAuth",
        "accessToken",
        "refreshToken",
        "googleProfile",
        "cb",
        "undefined"
      ],
      "mappings": ";;;;;;;;AAAA;;AAEO,SAASA,4BAAT,CAAsCC,OAAtC,EAA+C;AAAA;;AACpD,QAAM;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,MAAN;AAAcC,IAAAA,WAAW,EAAEC,IAA3B;AAAiCC,IAAAA,MAAjC;AAAyCC,IAAAA;AAAzC,MAAsDN,OAA5D;AAEA,QAAMO,KAAK,GAAGL,MAAH,aAAGA,MAAH,mCAAGA,MAAM,CAAG,CAAH,CAAT,6CAAG,SAAaM,KAA3B;AACA,QAAMC,QAAQ,GAAGJ,MAAH,aAAGA,MAAH,mCAAGA,MAAM,CAAG,CAAH,CAAT,6CAAG,SAAaG,KAA9B;AAEA,SAAO;AACLP,IAAAA,EADK;AAELQ,IAAAA,QAFK;AAGLH,IAAAA,QAHK;AAILF,IAAAA,IAJK;AAKLG,IAAAA;AALK,GAAP;AAOD;;AAEM,SAASG,iBAAT,CACL;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,YAAZ;AAA0BC,EAAAA;AAA1B,CADK,EAELC,YAFK,EAGL;AACA,SAAO,IAAIC,6BAAJ,CACL;AAAEJ,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,GADK,EAGL,CAACG,WAAD,EAAcC,YAAd,EAA4BC,aAA5B,EAA2CC,EAA3C,KAAkD;AAChD,UAAMnB,OAAO,GAAGD,4BAA4B,CAACmB,aAAD,CAA5C;AAEA;;;;AAIA,WAAOC,EAAE,CAACC,SAAD,EAAYpB,OAAZ,CAAT;AACD,GAXI,CAAP;AAaD",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/auth/",
      "sourcesContent": [
        "import { Strategy as GoogleOAuth } from \"passport-google-oauth20\";\n\nexport function googleProfileToMatrixProfile(profile) {\n  const { id, emails, displayName: name, photos, provider } = profile;\n\n  const email = emails?.[0]?.value;\n  const imageUrl = photos?.[0]?.value;\n\n  return {\n    id,\n    imageUrl,\n    provider,\n    name,\n    email\n  };\n}\n\nexport function buildAuthStrategy(\n  { clientID, clientSecret, callbackURL },\n  isAuthorized\n) {\n  return new GoogleOAuth(\n    { clientID, clientSecret, callbackURL },\n\n    (accessToken, refreshToken, googleProfile, cb) => {\n      const profile = googleProfileToMatrixProfile(googleProfile);\n\n      /* if (!isAuthorized(profile)) {\n        return cb(new Error(`E-mail ${profile.email} is not authorized`));\n      } */\n\n      return cb(undefined, profile);\n    }\n  );\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592191529194
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/categories.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/categories.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/categories.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/categories.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/",
        "sourceFileName": "categories.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _request = _interopRequireDefault(require(\"request\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst roomFilePath = \"../file/menu.categories.web.json\";\n\nconst fetchFromFile = () => new Promise((resolve, reject) => {\n  try {\n    const categoriesData = _fs.default.readFileSync(roomFilePath);\n\n    const categoriesDetail = JSON.parse(categoriesData);\n    resolve(categoriesDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromEnvironment = env => new Promise((resolve, reject) => {\n  try {\n    const categoriesData = env.categories_DATA;\n    const categoriesDetail = JSON.parse(categoriesData);\n    resolve(categoriesDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromRemote = env => {\n  const url = env.categories_DATA;\n  return new Promise((resolve, reject) => {\n    (0, _request.default)(url, (error, response, body) => {\n      // in addition to parsing the value, deal with possible errors\n      if (error) return reject(error);\n\n      try {\n        // JSON.parse() can throw an exception if not valid JSON\n        resolve(JSON.parse(body));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  });\n};\n\nconst fetchcategories = strategy => {\n  switch (strategy) {\n    case \"ENVIRONMENT\":\n      return fetchFromEnvironment(process.env);\n\n    case \"REMOTE\":\n      return fetchFromRemote(process.env);\n\n    default:\n      return fetchFromFile();\n  }\n};\n\nvar _default = fetchcategories;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3JpZXMuanMiXSwibmFtZXMiOlsicm9vbUZpbGVQYXRoIiwiZmV0Y2hGcm9tRmlsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2F0ZWdvcmllc0RhdGEiLCJmcyIsInJlYWRGaWxlU3luYyIsImNhdGVnb3JpZXNEZXRhaWwiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImZldGNoRnJvbUVudmlyb25tZW50IiwiZW52IiwiY2F0ZWdvcmllc19EQVRBIiwiZmV0Y2hGcm9tUmVtb3RlIiwidXJsIiwicmVzcG9uc2UiLCJib2R5IiwiZSIsImZldGNoY2F0ZWdvcmllcyIsInN0cmF0ZWd5IiwicHJvY2VzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsWUFBWSxHQUFHLGtDQUFyQjs7QUFFQSxNQUFNQyxhQUFhLEdBQUcsTUFBTSxJQUFJQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQzNELE1BQUk7QUFFRixVQUFNQyxjQUFjLEdBQUdDLFlBQUdDLFlBQUgsQ0FBZ0JQLFlBQWhCLENBQXZCOztBQUNBLFVBQU1RLGdCQUFnQixHQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0wsY0FBWCxDQUF6QjtBQUVBRixJQUFBQSxPQUFPLENBQUNLLGdCQUFELENBQVA7QUFDRCxHQU5ELENBTUUsT0FBT0csS0FBUCxFQUFjO0FBQ2RQLElBQUFBLE1BQU0sQ0FBQ08sS0FBRCxDQUFOO0FBQ0Q7QUFDRixDQVYyQixDQUE1Qjs7QUFZQSxNQUFNQyxvQkFBb0IsR0FBSUMsR0FBRCxJQUFTLElBQUlYLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDckUsTUFBSTtBQUNGLFVBQU1DLGNBQWMsR0FBR1EsR0FBRyxDQUFDQyxlQUEzQjtBQUNBLFVBQU1OLGdCQUFnQixHQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0wsY0FBWCxDQUF6QjtBQUNBRixJQUFBQSxPQUFPLENBQUNLLGdCQUFELENBQVA7QUFDRCxHQUpELENBSUUsT0FBT0csS0FBUCxFQUFjO0FBQ2RQLElBQUFBLE1BQU0sQ0FBQ08sS0FBRCxDQUFOO0FBQ0Q7QUFDRixDQVJxQyxDQUF0Qzs7QUFVQSxNQUFNSSxlQUFlLEdBQUlGLEdBQUQsSUFBUztBQUMvQixRQUFNRyxHQUFHLEdBQUdILEdBQUcsQ0FBQ0MsZUFBaEI7QUFFQSxTQUFPLElBQUlaLE9BQUosQ0FBYSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdkMsMEJBQVFZLEdBQVIsRUFBYSxDQUFDTCxLQUFELEVBQVFNLFFBQVIsRUFBa0JDLElBQWxCLEtBQTJCO0FBQ3RDO0FBQ0EsVUFBSVAsS0FBSixFQUFXLE9BQU9QLE1BQU0sQ0FBQ08sS0FBRCxDQUFiOztBQUNYLFVBQUk7QUFDRjtBQUNBUixRQUFBQSxPQUFPLENBQUNNLElBQUksQ0FBQ0MsS0FBTCxDQUFXUSxJQUFYLENBQUQsQ0FBUDtBQUNELE9BSEQsQ0FHRSxPQUFPQyxDQUFQLEVBQVU7QUFDVmYsUUFBQUEsTUFBTSxDQUFDZSxDQUFELENBQU47QUFDRDtBQUNGLEtBVEQ7QUFVRCxHQVhNLENBQVA7QUFZRCxDQWZEOztBQWlCQSxNQUFNQyxlQUFlLEdBQUlDLFFBQUQsSUFBYztBQUNwQyxVQUFRQSxRQUFSO0FBQ0UsU0FBSyxhQUFMO0FBQ0UsYUFBT1Qsb0JBQW9CLENBQUNVLE9BQU8sQ0FBQ1QsR0FBVCxDQUEzQjs7QUFDRixTQUFLLFFBQUw7QUFDRSxhQUFPRSxlQUFlLENBQUNPLE9BQU8sQ0FBQ1QsR0FBVCxDQUF0Qjs7QUFDRjtBQUNFLGFBQU9aLGFBQWEsRUFBcEI7QUFOSjtBQVFELENBVEQ7O2VBV2VtQixlIiwic291cmNlUm9vdCI6Ii9ob21lL250MDE1OC9Eb2N1bWVudG9zL01hdGhldXMvc2FsZXNfd2hhdHNhcHAvYmFja2VuZC9hcHAvc2VydmljZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IHJlcXVlc3QgZnJvbSBcInJlcXVlc3RcIjtcblxuY29uc3Qgcm9vbUZpbGVQYXRoID0gXCIuLi9maWxlL21lbnUuY2F0ZWdvcmllcy53ZWIuanNvblwiO1xuXG5jb25zdCBmZXRjaEZyb21GaWxlID0gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICB0cnkge1xuXG4gICAgY29uc3QgY2F0ZWdvcmllc0RhdGEgPSBmcy5yZWFkRmlsZVN5bmMocm9vbUZpbGVQYXRoKTtcbiAgICBjb25zdCBjYXRlZ29yaWVzRGV0YWlsID0gSlNPTi5wYXJzZShjYXRlZ29yaWVzRGF0YSk7XG5cbiAgICByZXNvbHZlKGNhdGVnb3JpZXNEZXRhaWwpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gIH1cbn0pO1xuXG5jb25zdCBmZXRjaEZyb21FbnZpcm9ubWVudCA9IChlbnYpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYXRlZ29yaWVzRGF0YSA9IGVudi5jYXRlZ29yaWVzX0RBVEE7XG4gICAgY29uc3QgY2F0ZWdvcmllc0RldGFpbCA9IEpTT04ucGFyc2UoY2F0ZWdvcmllc0RhdGEpO1xuICAgIHJlc29sdmUoY2F0ZWdvcmllc0RldGFpbCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgfVxufSk7XG5cbmNvbnN0IGZldGNoRnJvbVJlbW90ZSA9IChlbnYpID0+IHtcbiAgY29uc3QgdXJsID0gZW52LmNhdGVnb3JpZXNfREFUQTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXF1ZXN0KHVybCwgKGVycm9yLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgICAgLy8gaW4gYWRkaXRpb24gdG8gcGFyc2luZyB0aGUgdmFsdWUsIGRlYWwgd2l0aCBwb3NzaWJsZSBlcnJvcnNcbiAgICAgIGlmIChlcnJvcikgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBKU09OLnBhcnNlKCkgY2FuIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBub3QgdmFsaWQgSlNPTlxuICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoYm9keSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pKTtcbn07XG5cbmNvbnN0IGZldGNoY2F0ZWdvcmllcyA9IChzdHJhdGVneSkgPT4ge1xuICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgY2FzZSBcIkVOVklST05NRU5UXCI6XG4gICAgICByZXR1cm4gZmV0Y2hGcm9tRW52aXJvbm1lbnQocHJvY2Vzcy5lbnYpO1xuICAgIGNhc2UgXCJSRU1PVEVcIjpcbiAgICAgIHJldHVybiBmZXRjaEZyb21SZW1vdGUocHJvY2Vzcy5lbnYpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmV0Y2hGcm9tRmlsZSgpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmZXRjaGNhdGVnb3JpZXM7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "categories.js"
      ],
      "names": [
        "roomFilePath",
        "fetchFromFile",
        "Promise",
        "resolve",
        "reject",
        "categoriesData",
        "fs",
        "readFileSync",
        "categoriesDetail",
        "JSON",
        "parse",
        "error",
        "fetchFromEnvironment",
        "env",
        "categories_DATA",
        "fetchFromRemote",
        "url",
        "response",
        "body",
        "e",
        "fetchcategories",
        "strategy",
        "process"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,YAAY,GAAG,kCAArB;;AAEA,MAAMC,aAAa,GAAG,MAAM,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC3D,MAAI;AAEF,UAAMC,cAAc,GAAGC,YAAGC,YAAH,CAAgBP,YAAhB,CAAvB;;AACA,UAAMQ,gBAAgB,GAAGC,IAAI,CAACC,KAAL,CAAWL,cAAX,CAAzB;AAEAF,IAAAA,OAAO,CAACK,gBAAD,CAAP;AACD,GAND,CAME,OAAOG,KAAP,EAAc;AACdP,IAAAA,MAAM,CAACO,KAAD,CAAN;AACD;AACF,CAV2B,CAA5B;;AAYA,MAAMC,oBAAoB,GAAIC,GAAD,IAAS,IAAIX,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACrE,MAAI;AACF,UAAMC,cAAc,GAAGQ,GAAG,CAACC,eAA3B;AACA,UAAMN,gBAAgB,GAAGC,IAAI,CAACC,KAAL,CAAWL,cAAX,CAAzB;AACAF,IAAAA,OAAO,CAACK,gBAAD,CAAP;AACD,GAJD,CAIE,OAAOG,KAAP,EAAc;AACdP,IAAAA,MAAM,CAACO,KAAD,CAAN;AACD;AACF,CARqC,CAAtC;;AAUA,MAAMI,eAAe,GAAIF,GAAD,IAAS;AAC/B,QAAMG,GAAG,GAAGH,GAAG,CAACC,eAAhB;AAEA,SAAO,IAAIZ,OAAJ,CAAa,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACvC,0BAAQY,GAAR,EAAa,CAACL,KAAD,EAAQM,QAAR,EAAkBC,IAAlB,KAA2B;AACtC;AACA,UAAIP,KAAJ,EAAW,OAAOP,MAAM,CAACO,KAAD,CAAb;;AACX,UAAI;AACF;AACAR,QAAAA,OAAO,CAACM,IAAI,CAACC,KAAL,CAAWQ,IAAX,CAAD,CAAP;AACD,OAHD,CAGE,OAAOC,CAAP,EAAU;AACVf,QAAAA,MAAM,CAACe,CAAD,CAAN;AACD;AACF,KATD;AAUD,GAXM,CAAP;AAYD,CAfD;;AAiBA,MAAMC,eAAe,GAAIC,QAAD,IAAc;AACpC,UAAQA,QAAR;AACE,SAAK,aAAL;AACE,aAAOT,oBAAoB,CAACU,OAAO,CAACT,GAAT,CAA3B;;AACF,SAAK,QAAL;AACE,aAAOE,eAAe,CAACO,OAAO,CAACT,GAAT,CAAtB;;AACF;AACE,aAAOZ,aAAa,EAApB;AANJ;AAQD,CATD;;eAWemB,e",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/",
      "sourcesContent": [
        "import fs from \"fs\";\nimport request from \"request\";\n\nconst roomFilePath = \"../file/menu.categories.web.json\";\n\nconst fetchFromFile = () => new Promise((resolve, reject) => {\n  try {\n\n    const categoriesData = fs.readFileSync(roomFilePath);\n    const categoriesDetail = JSON.parse(categoriesData);\n\n    resolve(categoriesDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromEnvironment = (env) => new Promise((resolve, reject) => {\n  try {\n    const categoriesData = env.categories_DATA;\n    const categoriesDetail = JSON.parse(categoriesData);\n    resolve(categoriesDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromRemote = (env) => {\n  const url = env.categories_DATA;\n\n  return new Promise(((resolve, reject) => {\n    request(url, (error, response, body) => {\n      // in addition to parsing the value, deal with possible errors\n      if (error) return reject(error);\n      try {\n        // JSON.parse() can throw an exception if not valid JSON\n        resolve(JSON.parse(body));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }));\n};\n\nconst fetchcategories = (strategy) => {\n  switch (strategy) {\n    case \"ENVIRONMENT\":\n      return fetchFromEnvironment(process.env);\n    case \"REMOTE\":\n      return fetchFromRemote(process.env);\n    default:\n      return fetchFromFile();\n  }\n};\n\nexport default fetchcategories;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592182625103
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/products.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/products.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/products.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/products.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/",
        "sourceFileName": "products.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _request = _interopRequireDefault(require(\"request\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productsFilePath = \"../file/menu.products.web.json\";\n\nconst fetchFromFile = () => new Promise((resolve, reject) => {\n  try {\n    const productsData = _fs.default.readFileSync(productsFilePath);\n\n    const productsDetail = JSON.parse(productsData);\n    resolve(productsDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromEnvironment = env => new Promise((resolve, reject) => {\n  try {\n    const productsData = env.products_DATA;\n    const productsDetail = JSON.parse(productsData);\n    resolve(productsDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromRemote = env => {\n  const url = env.products_DATA;\n  return new Promise((resolve, reject) => {\n    (0, _request.default)(url, (error, response, body) => {\n      // in addition to parsing the value, deal with possible errors\n      if (error) return reject(error);\n\n      try {\n        // JSON.parse() can throw an exception if not valid JSON\n        resolve(JSON.parse(body));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  });\n};\n\nconst fetchproducts = strategy => {\n  switch (strategy) {\n    case \"ENVIRONMENT\":\n      return fetchFromEnvironment(process.env);\n\n    case \"REMOTE\":\n      return fetchFromRemote(process.env);\n\n    default:\n      return fetchFromFile();\n  }\n};\n\nvar _default = fetchproducts;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbInByb2R1Y3RzRmlsZVBhdGgiLCJmZXRjaEZyb21GaWxlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJwcm9kdWN0c0RhdGEiLCJmcyIsInJlYWRGaWxlU3luYyIsInByb2R1Y3RzRGV0YWlsIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJmZXRjaEZyb21FbnZpcm9ubWVudCIsImVudiIsInByb2R1Y3RzX0RBVEEiLCJmZXRjaEZyb21SZW1vdGUiLCJ1cmwiLCJyZXNwb25zZSIsImJvZHkiLCJlIiwiZmV0Y2hwcm9kdWN0cyIsInN0cmF0ZWd5IiwicHJvY2VzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsZ0JBQWdCLEdBQUcsZ0NBQXpCOztBQUVBLE1BQU1DLGFBQWEsR0FBRyxNQUFNLElBQUlDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDM0QsTUFBSTtBQUVGLFVBQU1DLFlBQVksR0FBR0MsWUFBR0MsWUFBSCxDQUFnQlAsZ0JBQWhCLENBQXJCOztBQUNBLFVBQU1RLGNBQWMsR0FBR0MsSUFBSSxDQUFDQyxLQUFMLENBQVdMLFlBQVgsQ0FBdkI7QUFFQUYsSUFBQUEsT0FBTyxDQUFDSyxjQUFELENBQVA7QUFDRCxHQU5ELENBTUUsT0FBT0csS0FBUCxFQUFjO0FBQ2RQLElBQUFBLE1BQU0sQ0FBQ08sS0FBRCxDQUFOO0FBQ0Q7QUFDRixDQVYyQixDQUE1Qjs7QUFZQSxNQUFNQyxvQkFBb0IsR0FBSUMsR0FBRCxJQUFTLElBQUlYLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDckUsTUFBSTtBQUNGLFVBQU1DLFlBQVksR0FBR1EsR0FBRyxDQUFDQyxhQUF6QjtBQUNBLFVBQU1OLGNBQWMsR0FBR0MsSUFBSSxDQUFDQyxLQUFMLENBQVdMLFlBQVgsQ0FBdkI7QUFDQUYsSUFBQUEsT0FBTyxDQUFDSyxjQUFELENBQVA7QUFDRCxHQUpELENBSUUsT0FBT0csS0FBUCxFQUFjO0FBQ2RQLElBQUFBLE1BQU0sQ0FBQ08sS0FBRCxDQUFOO0FBQ0Q7QUFDRixDQVJxQyxDQUF0Qzs7QUFVQSxNQUFNSSxlQUFlLEdBQUlGLEdBQUQsSUFBUztBQUMvQixRQUFNRyxHQUFHLEdBQUdILEdBQUcsQ0FBQ0MsYUFBaEI7QUFFQSxTQUFPLElBQUlaLE9BQUosQ0FBYSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdkMsMEJBQVFZLEdBQVIsRUFBYSxDQUFDTCxLQUFELEVBQVFNLFFBQVIsRUFBa0JDLElBQWxCLEtBQTJCO0FBQ3RDO0FBQ0EsVUFBSVAsS0FBSixFQUFXLE9BQU9QLE1BQU0sQ0FBQ08sS0FBRCxDQUFiOztBQUNYLFVBQUk7QUFDRjtBQUNBUixRQUFBQSxPQUFPLENBQUNNLElBQUksQ0FBQ0MsS0FBTCxDQUFXUSxJQUFYLENBQUQsQ0FBUDtBQUNELE9BSEQsQ0FHRSxPQUFPQyxDQUFQLEVBQVU7QUFDVmYsUUFBQUEsTUFBTSxDQUFDZSxDQUFELENBQU47QUFDRDtBQUNGLEtBVEQ7QUFVRCxHQVhNLENBQVA7QUFZRCxDQWZEOztBQWlCQSxNQUFNQyxhQUFhLEdBQUlDLFFBQUQsSUFBYztBQUNsQyxVQUFRQSxRQUFSO0FBQ0UsU0FBSyxhQUFMO0FBQ0UsYUFBT1Qsb0JBQW9CLENBQUNVLE9BQU8sQ0FBQ1QsR0FBVCxDQUEzQjs7QUFDRixTQUFLLFFBQUw7QUFDRSxhQUFPRSxlQUFlLENBQUNPLE9BQU8sQ0FBQ1QsR0FBVCxDQUF0Qjs7QUFDRjtBQUNFLGFBQU9aLGFBQWEsRUFBcEI7QUFOSjtBQVFELENBVEQ7O2VBV2VtQixhIiwic291cmNlUm9vdCI6Ii9ob21lL250MDE1OC9Eb2N1bWVudG9zL01hdGhldXMvc2FsZXNfd2hhdHNhcHAvYmFja2VuZC9hcHAvc2VydmljZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IHJlcXVlc3QgZnJvbSBcInJlcXVlc3RcIjtcblxuY29uc3QgcHJvZHVjdHNGaWxlUGF0aCA9IFwiLi4vZmlsZS9tZW51LnByb2R1Y3RzLndlYi5qc29uXCI7XG5cbmNvbnN0IGZldGNoRnJvbUZpbGUgPSAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gIHRyeSB7XG5cbiAgICBjb25zdCBwcm9kdWN0c0RhdGEgPSBmcy5yZWFkRmlsZVN5bmMocHJvZHVjdHNGaWxlUGF0aCk7XG4gICAgY29uc3QgcHJvZHVjdHNEZXRhaWwgPSBKU09OLnBhcnNlKHByb2R1Y3RzRGF0YSk7XG5cbiAgICByZXNvbHZlKHByb2R1Y3RzRGV0YWlsKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICB9XG59KTtcblxuY29uc3QgZmV0Y2hGcm9tRW52aXJvbm1lbnQgPSAoZW52KSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJvZHVjdHNEYXRhID0gZW52LnByb2R1Y3RzX0RBVEE7XG4gICAgY29uc3QgcHJvZHVjdHNEZXRhaWwgPSBKU09OLnBhcnNlKHByb2R1Y3RzRGF0YSk7XG4gICAgcmVzb2x2ZShwcm9kdWN0c0RldGFpbCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgfVxufSk7XG5cbmNvbnN0IGZldGNoRnJvbVJlbW90ZSA9IChlbnYpID0+IHtcbiAgY29uc3QgdXJsID0gZW52LnByb2R1Y3RzX0RBVEE7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKCgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVxdWVzdCh1cmwsIChlcnJvciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgICAgIC8vIGluIGFkZGl0aW9uIHRvIHBhcnNpbmcgdGhlIHZhbHVlLCBkZWFsIHdpdGggcG9zc2libGUgZXJyb3JzXG4gICAgICBpZiAoZXJyb3IpIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gSlNPTi5wYXJzZSgpIGNhbiB0aHJvdyBhbiBleGNlcHRpb24gaWYgbm90IHZhbGlkIEpTT05cbiAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKGJvZHkpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KSk7XG59O1xuXG5jb25zdCBmZXRjaHByb2R1Y3RzID0gKHN0cmF0ZWd5KSA9PiB7XG4gIHN3aXRjaCAoc3RyYXRlZ3kpIHtcbiAgICBjYXNlIFwiRU5WSVJPTk1FTlRcIjpcbiAgICAgIHJldHVybiBmZXRjaEZyb21FbnZpcm9ubWVudChwcm9jZXNzLmVudik7XG4gICAgY2FzZSBcIlJFTU9URVwiOlxuICAgICAgcmV0dXJuIGZldGNoRnJvbVJlbW90ZShwcm9jZXNzLmVudik7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmZXRjaEZyb21GaWxlKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZldGNocHJvZHVjdHM7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "products.js"
      ],
      "names": [
        "productsFilePath",
        "fetchFromFile",
        "Promise",
        "resolve",
        "reject",
        "productsData",
        "fs",
        "readFileSync",
        "productsDetail",
        "JSON",
        "parse",
        "error",
        "fetchFromEnvironment",
        "env",
        "products_DATA",
        "fetchFromRemote",
        "url",
        "response",
        "body",
        "e",
        "fetchproducts",
        "strategy",
        "process"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,gCAAzB;;AAEA,MAAMC,aAAa,GAAG,MAAM,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC3D,MAAI;AAEF,UAAMC,YAAY,GAAGC,YAAGC,YAAH,CAAgBP,gBAAhB,CAArB;;AACA,UAAMQ,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWL,YAAX,CAAvB;AAEAF,IAAAA,OAAO,CAACK,cAAD,CAAP;AACD,GAND,CAME,OAAOG,KAAP,EAAc;AACdP,IAAAA,MAAM,CAACO,KAAD,CAAN;AACD;AACF,CAV2B,CAA5B;;AAYA,MAAMC,oBAAoB,GAAIC,GAAD,IAAS,IAAIX,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACrE,MAAI;AACF,UAAMC,YAAY,GAAGQ,GAAG,CAACC,aAAzB;AACA,UAAMN,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWL,YAAX,CAAvB;AACAF,IAAAA,OAAO,CAACK,cAAD,CAAP;AACD,GAJD,CAIE,OAAOG,KAAP,EAAc;AACdP,IAAAA,MAAM,CAACO,KAAD,CAAN;AACD;AACF,CARqC,CAAtC;;AAUA,MAAMI,eAAe,GAAIF,GAAD,IAAS;AAC/B,QAAMG,GAAG,GAAGH,GAAG,CAACC,aAAhB;AAEA,SAAO,IAAIZ,OAAJ,CAAa,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACvC,0BAAQY,GAAR,EAAa,CAACL,KAAD,EAAQM,QAAR,EAAkBC,IAAlB,KAA2B;AACtC;AACA,UAAIP,KAAJ,EAAW,OAAOP,MAAM,CAACO,KAAD,CAAb;;AACX,UAAI;AACF;AACAR,QAAAA,OAAO,CAACM,IAAI,CAACC,KAAL,CAAWQ,IAAX,CAAD,CAAP;AACD,OAHD,CAGE,OAAOC,CAAP,EAAU;AACVf,QAAAA,MAAM,CAACe,CAAD,CAAN;AACD;AACF,KATD;AAUD,GAXM,CAAP;AAYD,CAfD;;AAiBA,MAAMC,aAAa,GAAIC,QAAD,IAAc;AAClC,UAAQA,QAAR;AACE,SAAK,aAAL;AACE,aAAOT,oBAAoB,CAACU,OAAO,CAACT,GAAT,CAA3B;;AACF,SAAK,QAAL;AACE,aAAOE,eAAe,CAACO,OAAO,CAACT,GAAT,CAAtB;;AACF;AACE,aAAOZ,aAAa,EAApB;AANJ;AAQD,CATD;;eAWemB,a",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/",
      "sourcesContent": [
        "import fs from \"fs\";\nimport request from \"request\";\n\nconst productsFilePath = \"../file/menu.products.web.json\";\n\nconst fetchFromFile = () => new Promise((resolve, reject) => {\n  try {\n\n    const productsData = fs.readFileSync(productsFilePath);\n    const productsDetail = JSON.parse(productsData);\n\n    resolve(productsDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromEnvironment = (env) => new Promise((resolve, reject) => {\n  try {\n    const productsData = env.products_DATA;\n    const productsDetail = JSON.parse(productsData);\n    resolve(productsDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromRemote = (env) => {\n  const url = env.products_DATA;\n\n  return new Promise(((resolve, reject) => {\n    request(url, (error, response, body) => {\n      // in addition to parsing the value, deal with possible errors\n      if (error) return reject(error);\n      try {\n        // JSON.parse() can throw an exception if not valid JSON\n        resolve(JSON.parse(body));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }));\n};\n\nconst fetchproducts = (strategy) => {\n  switch (strategy) {\n    case \"ENVIRONMENT\":\n      return fetchFromEnvironment(process.env);\n    case \"REMOTE\":\n      return fetchFromRemote(process.env);\n    default:\n      return fetchFromFile();\n  }\n};\n\nexport default fetchproducts;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592182620675
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/me.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/me.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/me.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/me.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/",
        "sourceFileName": "me.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _request = _interopRequireDefault(require(\"request\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst meFilePath = \"../file/menu.me.web.json\";\n\nconst fetchFromFile = () => new Promise((resolve, reject) => {\n  try {\n    const meData = _fs.default.readFileSync(meFilePath);\n\n    const meDetail = JSON.parse(meData);\n    resolve(meDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromEnvironment = env => new Promise((resolve, reject) => {\n  try {\n    const meData = env.me_DATA;\n    const meDetail = JSON.parse(meData);\n    resolve(meDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromRemote = env => {\n  const url = env.me_DATA;\n  return new Promise((resolve, reject) => {\n    (0, _request.default)(url, (error, response, body) => {\n      // in addition to parsing the value, deal with possible errors\n      if (error) return reject(error);\n\n      try {\n        // JSON.parse() can throw an exception if not valid JSON\n        resolve(JSON.parse(body));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  });\n};\n\nconst fetchme = strategy => {\n  switch (strategy) {\n    case \"ENVIRONMENT\":\n      return fetchFromEnvironment(process.env);\n\n    case \"REMOTE\":\n      return fetchFromRemote(process.env);\n\n    default:\n      return fetchFromFile();\n  }\n};\n\nvar _default = fetchme;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lLmpzIl0sIm5hbWVzIjpbIm1lRmlsZVBhdGgiLCJmZXRjaEZyb21GaWxlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJtZURhdGEiLCJmcyIsInJlYWRGaWxlU3luYyIsIm1lRGV0YWlsIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJmZXRjaEZyb21FbnZpcm9ubWVudCIsImVudiIsIm1lX0RBVEEiLCJmZXRjaEZyb21SZW1vdGUiLCJ1cmwiLCJyZXNwb25zZSIsImJvZHkiLCJlIiwiZmV0Y2htZSIsInN0cmF0ZWd5IiwicHJvY2VzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLDBCQUFuQjs7QUFFQSxNQUFNQyxhQUFhLEdBQUcsTUFBTSxJQUFJQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQzNELE1BQUk7QUFFRixVQUFNQyxNQUFNLEdBQUdDLFlBQUdDLFlBQUgsQ0FBZ0JQLFVBQWhCLENBQWY7O0FBQ0EsVUFBTVEsUUFBUSxHQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0wsTUFBWCxDQUFqQjtBQUVBRixJQUFBQSxPQUFPLENBQUNLLFFBQUQsQ0FBUDtBQUNELEdBTkQsQ0FNRSxPQUFPRyxLQUFQLEVBQWM7QUFDZFAsSUFBQUEsTUFBTSxDQUFDTyxLQUFELENBQU47QUFDRDtBQUNGLENBVjJCLENBQTVCOztBQVlBLE1BQU1DLG9CQUFvQixHQUFJQyxHQUFELElBQVMsSUFBSVgsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNyRSxNQUFJO0FBQ0YsVUFBTUMsTUFBTSxHQUFHUSxHQUFHLENBQUNDLE9BQW5CO0FBQ0EsVUFBTU4sUUFBUSxHQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0wsTUFBWCxDQUFqQjtBQUNBRixJQUFBQSxPQUFPLENBQUNLLFFBQUQsQ0FBUDtBQUNELEdBSkQsQ0FJRSxPQUFPRyxLQUFQLEVBQWM7QUFDZFAsSUFBQUEsTUFBTSxDQUFDTyxLQUFELENBQU47QUFDRDtBQUNGLENBUnFDLENBQXRDOztBQVVBLE1BQU1JLGVBQWUsR0FBSUYsR0FBRCxJQUFTO0FBQy9CLFFBQU1HLEdBQUcsR0FBR0gsR0FBRyxDQUFDQyxPQUFoQjtBQUVBLFNBQU8sSUFBSVosT0FBSixDQUFhLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN2QywwQkFBUVksR0FBUixFQUFhLENBQUNMLEtBQUQsRUFBUU0sUUFBUixFQUFrQkMsSUFBbEIsS0FBMkI7QUFDdEM7QUFDQSxVQUFJUCxLQUFKLEVBQVcsT0FBT1AsTUFBTSxDQUFDTyxLQUFELENBQWI7O0FBQ1gsVUFBSTtBQUNGO0FBQ0FSLFFBQUFBLE9BQU8sQ0FBQ00sSUFBSSxDQUFDQyxLQUFMLENBQVdRLElBQVgsQ0FBRCxDQUFQO0FBQ0QsT0FIRCxDQUdFLE9BQU9DLENBQVAsRUFBVTtBQUNWZixRQUFBQSxNQUFNLENBQUNlLENBQUQsQ0FBTjtBQUNEO0FBQ0YsS0FURDtBQVVELEdBWE0sQ0FBUDtBQVlELENBZkQ7O0FBaUJBLE1BQU1DLE9BQU8sR0FBSUMsUUFBRCxJQUFjO0FBQzVCLFVBQVFBLFFBQVI7QUFDRSxTQUFLLGFBQUw7QUFDRSxhQUFPVCxvQkFBb0IsQ0FBQ1UsT0FBTyxDQUFDVCxHQUFULENBQTNCOztBQUNGLFNBQUssUUFBTDtBQUNFLGFBQU9FLGVBQWUsQ0FBQ08sT0FBTyxDQUFDVCxHQUFULENBQXRCOztBQUNGO0FBQ0UsYUFBT1osYUFBYSxFQUFwQjtBQU5KO0FBUUQsQ0FURDs7ZUFXZW1CLE8iLCJzb3VyY2VSb290IjoiL2hvbWUvbnQwMTU4L0RvY3VtZW50b3MvTWF0aGV1cy9zYWxlc193aGF0c2FwcC9iYWNrZW5kL2FwcC9zZXJ2aWNlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgcmVxdWVzdCBmcm9tIFwicmVxdWVzdFwiO1xuXG5jb25zdCBtZUZpbGVQYXRoID0gXCIuLi9maWxlL21lbnUubWUud2ViLmpzb25cIjtcblxuY29uc3QgZmV0Y2hGcm9tRmlsZSA9ICgpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgdHJ5IHtcblxuICAgIGNvbnN0IG1lRGF0YSA9IGZzLnJlYWRGaWxlU3luYyhtZUZpbGVQYXRoKTtcbiAgICBjb25zdCBtZURldGFpbCA9IEpTT04ucGFyc2UobWVEYXRhKTtcblxuICAgIHJlc29sdmUobWVEZXRhaWwpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gIH1cbn0pO1xuXG5jb25zdCBmZXRjaEZyb21FbnZpcm9ubWVudCA9IChlbnYpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBtZURhdGEgPSBlbnYubWVfREFUQTtcbiAgICBjb25zdCBtZURldGFpbCA9IEpTT04ucGFyc2UobWVEYXRhKTtcbiAgICByZXNvbHZlKG1lRGV0YWlsKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICB9XG59KTtcblxuY29uc3QgZmV0Y2hGcm9tUmVtb3RlID0gKGVudikgPT4ge1xuICBjb25zdCB1cmwgPSBlbnYubWVfREFUQTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXF1ZXN0KHVybCwgKGVycm9yLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgICAgLy8gaW4gYWRkaXRpb24gdG8gcGFyc2luZyB0aGUgdmFsdWUsIGRlYWwgd2l0aCBwb3NzaWJsZSBlcnJvcnNcbiAgICAgIGlmIChlcnJvcikgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBKU09OLnBhcnNlKCkgY2FuIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBub3QgdmFsaWQgSlNPTlxuICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoYm9keSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pKTtcbn07XG5cbmNvbnN0IGZldGNobWUgPSAoc3RyYXRlZ3kpID0+IHtcbiAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgIGNhc2UgXCJFTlZJUk9OTUVOVFwiOlxuICAgICAgcmV0dXJuIGZldGNoRnJvbUVudmlyb25tZW50KHByb2Nlc3MuZW52KTtcbiAgICBjYXNlIFwiUkVNT1RFXCI6XG4gICAgICByZXR1cm4gZmV0Y2hGcm9tUmVtb3RlKHByb2Nlc3MuZW52KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZldGNoRnJvbUZpbGUoKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZmV0Y2htZTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "me.js"
      ],
      "names": [
        "meFilePath",
        "fetchFromFile",
        "Promise",
        "resolve",
        "reject",
        "meData",
        "fs",
        "readFileSync",
        "meDetail",
        "JSON",
        "parse",
        "error",
        "fetchFromEnvironment",
        "env",
        "me_DATA",
        "fetchFromRemote",
        "url",
        "response",
        "body",
        "e",
        "fetchme",
        "strategy",
        "process"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,0BAAnB;;AAEA,MAAMC,aAAa,GAAG,MAAM,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC3D,MAAI;AAEF,UAAMC,MAAM,GAAGC,YAAGC,YAAH,CAAgBP,UAAhB,CAAf;;AACA,UAAMQ,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWL,MAAX,CAAjB;AAEAF,IAAAA,OAAO,CAACK,QAAD,CAAP;AACD,GAND,CAME,OAAOG,KAAP,EAAc;AACdP,IAAAA,MAAM,CAACO,KAAD,CAAN;AACD;AACF,CAV2B,CAA5B;;AAYA,MAAMC,oBAAoB,GAAIC,GAAD,IAAS,IAAIX,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACrE,MAAI;AACF,UAAMC,MAAM,GAAGQ,GAAG,CAACC,OAAnB;AACA,UAAMN,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWL,MAAX,CAAjB;AACAF,IAAAA,OAAO,CAACK,QAAD,CAAP;AACD,GAJD,CAIE,OAAOG,KAAP,EAAc;AACdP,IAAAA,MAAM,CAACO,KAAD,CAAN;AACD;AACF,CARqC,CAAtC;;AAUA,MAAMI,eAAe,GAAIF,GAAD,IAAS;AAC/B,QAAMG,GAAG,GAAGH,GAAG,CAACC,OAAhB;AAEA,SAAO,IAAIZ,OAAJ,CAAa,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACvC,0BAAQY,GAAR,EAAa,CAACL,KAAD,EAAQM,QAAR,EAAkBC,IAAlB,KAA2B;AACtC;AACA,UAAIP,KAAJ,EAAW,OAAOP,MAAM,CAACO,KAAD,CAAb;;AACX,UAAI;AACF;AACAR,QAAAA,OAAO,CAACM,IAAI,CAACC,KAAL,CAAWQ,IAAX,CAAD,CAAP;AACD,OAHD,CAGE,OAAOC,CAAP,EAAU;AACVf,QAAAA,MAAM,CAACe,CAAD,CAAN;AACD;AACF,KATD;AAUD,GAXM,CAAP;AAYD,CAfD;;AAiBA,MAAMC,OAAO,GAAIC,QAAD,IAAc;AAC5B,UAAQA,QAAR;AACE,SAAK,aAAL;AACE,aAAOT,oBAAoB,CAACU,OAAO,CAACT,GAAT,CAA3B;;AACF,SAAK,QAAL;AACE,aAAOE,eAAe,CAACO,OAAO,CAACT,GAAT,CAAtB;;AACF;AACE,aAAOZ,aAAa,EAApB;AANJ;AAQD,CATD;;eAWemB,O",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/services/",
      "sourcesContent": [
        "import fs from \"fs\";\nimport request from \"request\";\n\nconst meFilePath = \"../file/menu.me.web.json\";\n\nconst fetchFromFile = () => new Promise((resolve, reject) => {\n  try {\n\n    const meData = fs.readFileSync(meFilePath);\n    const meDetail = JSON.parse(meData);\n\n    resolve(meDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromEnvironment = (env) => new Promise((resolve, reject) => {\n  try {\n    const meData = env.me_DATA;\n    const meDetail = JSON.parse(meData);\n    resolve(meDetail);\n  } catch (error) {\n    reject(error);\n  }\n});\n\nconst fetchFromRemote = (env) => {\n  const url = env.me_DATA;\n\n  return new Promise(((resolve, reject) => {\n    request(url, (error, response, body) => {\n      // in addition to parsing the value, deal with possible errors\n      if (error) return reject(error);\n      try {\n        // JSON.parse() can throw an exception if not valid JSON\n        resolve(JSON.parse(body));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }));\n};\n\nconst fetchme = (strategy) => {\n  switch (strategy) {\n    case \"ENVIRONMENT\":\n      return fetchFromEnvironment(process.env);\n    case \"REMOTE\":\n      return fetchFromRemote(process.env);\n    default:\n      return fetchFromFile();\n  }\n};\n\nexport default fetchme;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592365677385
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.server.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
        "sourceFileName": "app.server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cookieSession = _interopRequireDefault(require(\"cookie-session\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _assets = _interopRequireDefault(require(\"./controllers/assets.controller\"));\n\nvar _app = _interopRequireDefault(require(\"./app.routes\"));\n\nvar _auth = require(\"./services/auth\");\n\nvar _categories = _interopRequireDefault(require(\"./services/categories\"));\n\nvar _products = _interopRequireDefault(require(\"./services/products\"));\n\nvar _me = _interopRequireDefault(require(\"./services/me\"));\n\nvar _app2 = require(\"./app.config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)(); //app.use(morgan(\"tiny\"));\n\napp.use((0, _cookieSession.default)((0, _app2.getSessionConfig)()));\napp.use(_bodyParser.default.urlencoded({\n  extended: false\n})); // set the template engine ejs\n\napp.set(\"view engine\", \"ejs\");\napp.set(\"views\", \"./app/views\"); // use authentication\n\n(0, _auth.setupAppAuth)(app);\napp.use((0, _cors.default)({\n  origin: [\"https://localhost:3003\"],\n  credentials: true\n}));\napp.use(\"/\", _express.default.static(_path.default.join(__dirname, \"..\", \"..\", \"public\")));\n\nconst assetsManifestFile = _path.default.join(__dirname, \"..\", \"..\", \"public\", \"dist\", \"manifest.json\");\n\nconst assetsManifestResolver = (0, _app2.getEnvironment)() === \"production\" ? _assets.default.staticManifestResolver(assetsManifestFile) : _assets.default.lazyManifestResolver(assetsManifestFile);\napp.locals.assets = _assets.default.createAssetsResolver(assetsManifestResolver, \"/dist\");\napp.use((req, res, next) => {\n  const isSecure = req.secure || req.header(\"x-forwarded-proto\") === \"https\";\n\n  if ((0, _app2.shouldEnforceSSL)() && !isSecure) {\n    res.redirect(`https://${req.hostname}${req.url}`);\n  } else {\n    next();\n  }\n});\napp.use(_app.default);\n(0, _me.default)().then(meData => {\n  app.locals.meDetail = meData;\n}).catch(err => {\n  console.error(err);\n});\n(0, _categories.default)((0, _app2.getCategories)()).then(categoriesData => {\n  app.locals.categoriesDetail = categoriesData;\n}).catch(err => {\n  console.error(err);\n});\n(0, _products.default)((0, _app2.getProducts)()).then(productsData => {\n  app.locals.productsDetail = productsData;\n}).catch(err => {\n  console.error(err);\n});\nmodule.exports = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5zZXJ2ZXIuanMiXSwibmFtZXMiOlsiYXBwIiwidXNlIiwiYm9keVBhcnNlciIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInNldCIsIm9yaWdpbiIsImNyZWRlbnRpYWxzIiwiZXhwcmVzcyIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwiYXNzZXRzTWFuaWZlc3RGaWxlIiwiYXNzZXRzTWFuaWZlc3RSZXNvbHZlciIsImFzc2V0cyIsInN0YXRpY01hbmlmZXN0UmVzb2x2ZXIiLCJsYXp5TWFuaWZlc3RSZXNvbHZlciIsImxvY2FscyIsImNyZWF0ZUFzc2V0c1Jlc29sdmVyIiwicmVxIiwicmVzIiwibmV4dCIsImlzU2VjdXJlIiwic2VjdXJlIiwiaGVhZGVyIiwicmVkaXJlY3QiLCJob3N0bmFtZSIsInVybCIsInJvdXRlcyIsInRoZW4iLCJtZURhdGEiLCJtZURldGFpbCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiY2F0ZWdvcmllc0RhdGEiLCJjYXRlZ29yaWVzRGV0YWlsIiwicHJvZHVjdHNEYXRhIiwicHJvZHVjdHNEZXRhaWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOzs7O0FBU0EsTUFBTUEsR0FBRyxHQUFHLHVCQUFaLEMsQ0FFQTs7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsNEJBQWMsNkJBQWQsQ0FBUjtBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdDLFVBQVgsQ0FBc0I7QUFBRUMsRUFBQUEsUUFBUSxFQUFFO0FBQVosQ0FBdEIsQ0FBUixFLENBRUE7O0FBQ0FKLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLGFBQVIsRUFBdUIsS0FBdkI7QUFDQUwsR0FBRyxDQUFDSyxHQUFKLENBQVEsT0FBUixFQUFpQixhQUFqQixFLENBRUE7O0FBQ0Esd0JBQWFMLEdBQWI7QUFFQUEsR0FBRyxDQUFDQyxHQUFKLENBQ0UsbUJBQUs7QUFDSEssRUFBQUEsTUFBTSxFQUFFLENBQUMsd0JBQUQsQ0FETDtBQUVIQyxFQUFBQSxXQUFXLEVBQUU7QUFGVixDQUFMLENBREY7QUFPQVAsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhTyxpQkFBUUMsTUFBUixDQUFlQyxjQUFLQyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsSUFBckIsRUFBMkIsSUFBM0IsRUFBaUMsUUFBakMsQ0FBZixDQUFiOztBQUVBLE1BQU1DLGtCQUFrQixHQUFHSCxjQUFLQyxJQUFMLENBQ3pCQyxTQUR5QixFQUV6QixJQUZ5QixFQUd6QixJQUh5QixFQUl6QixRQUp5QixFQUt6QixNQUx5QixFQU16QixlQU55QixDQUEzQjs7QUFRQSxNQUFNRSxzQkFBc0IsR0FDMUIsZ0NBQXFCLFlBQXJCLEdBQ0lDLGdCQUFPQyxzQkFBUCxDQUE4Qkgsa0JBQTlCLENBREosR0FFSUUsZ0JBQU9FLG9CQUFQLENBQTRCSixrQkFBNUIsQ0FITjtBQUtBYixHQUFHLENBQUNrQixNQUFKLENBQVdILE1BQVgsR0FBb0JBLGdCQUFPSSxvQkFBUCxDQUNsQkwsc0JBRGtCLEVBRWxCLE9BRmtCLENBQXBCO0FBS0FkLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLENBQUNtQixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUMxQixRQUFNQyxRQUFRLEdBQUdILEdBQUcsQ0FBQ0ksTUFBSixJQUFjSixHQUFHLENBQUNLLE1BQUosQ0FBVyxtQkFBWCxNQUFvQyxPQUFuRTs7QUFFQSxNQUFJLGlDQUFzQixDQUFDRixRQUEzQixFQUFxQztBQUNuQ0YsSUFBQUEsR0FBRyxDQUFDSyxRQUFKLENBQWMsV0FBVU4sR0FBRyxDQUFDTyxRQUFTLEdBQUVQLEdBQUcsQ0FBQ1EsR0FBSSxFQUEvQztBQUNELEdBRkQsTUFFTztBQUNMTixJQUFBQSxJQUFJO0FBQ0w7QUFDRixDQVJEO0FBVUF0QixHQUFHLENBQUNDLEdBQUosQ0FBUTRCLFlBQVI7QUFFQSxtQkFDR0MsSUFESCxDQUNTQyxNQUFELElBQVk7QUFDaEIvQixFQUFBQSxHQUFHLENBQUNrQixNQUFKLENBQVdjLFFBQVgsR0FBc0JELE1BQXRCO0FBQ0QsQ0FISCxFQUlHRSxLQUpILENBSVVDLEdBQUQsSUFBUztBQUNkQyxFQUFBQSxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsR0FBZDtBQUNELENBTkg7QUFRQSx5QkFBZ0IsMEJBQWhCLEVBQ0dKLElBREgsQ0FDU08sY0FBRCxJQUFvQjtBQUN4QnJDLEVBQUFBLEdBQUcsQ0FBQ2tCLE1BQUosQ0FBV29CLGdCQUFYLEdBQThCRCxjQUE5QjtBQUNELENBSEgsRUFJR0osS0FKSCxDQUlVQyxHQUFELElBQVM7QUFDZEMsRUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQWNGLEdBQWQ7QUFDRCxDQU5IO0FBUUEsdUJBQWMsd0JBQWQsRUFDR0osSUFESCxDQUNTUyxZQUFELElBQWtCO0FBQ3RCdkMsRUFBQUEsR0FBRyxDQUFDa0IsTUFBSixDQUFXc0IsY0FBWCxHQUE0QkQsWUFBNUI7QUFDRCxDQUhILEVBSUdOLEtBSkgsQ0FJVUMsR0FBRCxJQUFTO0FBQ2RDLEVBQUFBLE9BQU8sQ0FBQ0MsS0FBUixDQUFjRixHQUFkO0FBQ0QsQ0FOSDtBQVFBTyxNQUFNLENBQUNDLE9BQVAsR0FBaUIxQyxHQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9udDAxNTgvRG9jdW1lbnRvcy9NYXRoZXVzL3NhbGVzX3doYXRzYXBwL2JhY2tlbmQvYXBwLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgY29va2llU2Vzc2lvbiBmcm9tIFwiY29va2llLXNlc3Npb25cIjtcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gXCJib2R5LXBhcnNlclwiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBtb3JnYW4gZnJvbSBcIm1vcmdhblwiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcblxuaW1wb3J0IGFzc2V0cyBmcm9tIFwiLi9jb250cm9sbGVycy9hc3NldHMuY29udHJvbGxlclwiO1xuaW1wb3J0IHJvdXRlcyBmcm9tIFwiLi9hcHAucm91dGVzXCI7XG5cbmltcG9ydCB7IHNldHVwQXBwQXV0aCB9IGZyb20gXCIuL3NlcnZpY2VzL2F1dGhcIjtcbmltcG9ydCBmZXRjaENhdGVnb3JpZXMgZnJvbSBcIi4vc2VydmljZXMvY2F0ZWdvcmllc1wiO1xuaW1wb3J0IGZldGNoUHJvZHVjdHMgZnJvbSBcIi4vc2VydmljZXMvcHJvZHVjdHNcIjtcbmltcG9ydCBmZXRjaE1lIGZyb20gXCIuL3NlcnZpY2VzL21lXCI7XG5cbmltcG9ydCB7XG4gIGdldE1lLFxuICBnZXRDYXRlZ29yaWVzLFxuICBnZXRQcm9kdWN0cyxcbiAgZ2V0U2Vzc2lvbkNvbmZpZyxcbiAgZ2V0RW52aXJvbm1lbnQsXG4gIHNob3VsZEVuZm9yY2VTU0wsXG59IGZyb20gXCIuL2FwcC5jb25maWdcIjtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vL2FwcC51c2UobW9yZ2FuKFwidGlueVwiKSk7XG5hcHAudXNlKGNvb2tpZVNlc3Npb24oZ2V0U2Vzc2lvbkNvbmZpZygpKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG5cbi8vIHNldCB0aGUgdGVtcGxhdGUgZW5naW5lIGVqc1xuYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwiZWpzXCIpO1xuYXBwLnNldChcInZpZXdzXCIsIFwiLi9hcHAvdmlld3NcIik7XG5cbi8vIHVzZSBhdXRoZW50aWNhdGlvblxuc2V0dXBBcHBBdXRoKGFwcCk7XG5cbmFwcC51c2UoXG4gIGNvcnMoe1xuICAgIG9yaWdpbjogW1wiaHR0cHM6Ly9sb2NhbGhvc3Q6MzAwM1wiXSxcbiAgICBjcmVkZW50aWFsczogdHJ1ZSxcbiAgfSlcbik7XG5cbmFwcC51c2UoXCIvXCIsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsIFwiLi5cIiwgXCIuLlwiLCBcInB1YmxpY1wiKSkpO1xuXG5jb25zdCBhc3NldHNNYW5pZmVzdEZpbGUgPSBwYXRoLmpvaW4oXG4gIF9fZGlybmFtZSxcbiAgXCIuLlwiLFxuICBcIi4uXCIsXG4gIFwicHVibGljXCIsXG4gIFwiZGlzdFwiLFxuICBcIm1hbmlmZXN0Lmpzb25cIlxuKTtcbmNvbnN0IGFzc2V0c01hbmlmZXN0UmVzb2x2ZXIgPVxuICBnZXRFbnZpcm9ubWVudCgpID09PSBcInByb2R1Y3Rpb25cIlxuICAgID8gYXNzZXRzLnN0YXRpY01hbmlmZXN0UmVzb2x2ZXIoYXNzZXRzTWFuaWZlc3RGaWxlKVxuICAgIDogYXNzZXRzLmxhenlNYW5pZmVzdFJlc29sdmVyKGFzc2V0c01hbmlmZXN0RmlsZSk7XG5cbmFwcC5sb2NhbHMuYXNzZXRzID0gYXNzZXRzLmNyZWF0ZUFzc2V0c1Jlc29sdmVyKFxuICBhc3NldHNNYW5pZmVzdFJlc29sdmVyLFxuICBcIi9kaXN0XCJcbik7XG5cbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IGlzU2VjdXJlID0gcmVxLnNlY3VyZSB8fCByZXEuaGVhZGVyKFwieC1mb3J3YXJkZWQtcHJvdG9cIikgPT09IFwiaHR0cHNcIjtcblxuICBpZiAoc2hvdWxkRW5mb3JjZVNTTCgpICYmICFpc1NlY3VyZSkge1xuICAgIHJlcy5yZWRpcmVjdChgaHR0cHM6Ly8ke3JlcS5ob3N0bmFtZX0ke3JlcS51cmx9YCk7XG4gIH0gZWxzZSB7XG4gICAgbmV4dCgpO1xuICB9XG59KTtcblxuYXBwLnVzZShyb3V0ZXMpO1xuXG5mZXRjaE1lKClcbiAgLnRoZW4oKG1lRGF0YSkgPT4ge1xuICAgIGFwcC5sb2NhbHMubWVEZXRhaWwgPSBtZURhdGE7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcblxuZmV0Y2hDYXRlZ29yaWVzKGdldENhdGVnb3JpZXMoKSlcbiAgLnRoZW4oKGNhdGVnb3JpZXNEYXRhKSA9PiB7XG4gICAgYXBwLmxvY2Fscy5jYXRlZ29yaWVzRGV0YWlsID0gY2F0ZWdvcmllc0RhdGE7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcblxuZmV0Y2hQcm9kdWN0cyhnZXRQcm9kdWN0cygpKVxuICAudGhlbigocHJvZHVjdHNEYXRhKSA9PiB7XG4gICAgYXBwLmxvY2Fscy5wcm9kdWN0c0RldGFpbCA9IHByb2R1Y3RzRGF0YTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "app.server.js"
      ],
      "names": [
        "app",
        "use",
        "bodyParser",
        "urlencoded",
        "extended",
        "set",
        "origin",
        "credentials",
        "express",
        "static",
        "path",
        "join",
        "__dirname",
        "assetsManifestFile",
        "assetsManifestResolver",
        "assets",
        "staticManifestResolver",
        "lazyManifestResolver",
        "locals",
        "createAssetsResolver",
        "req",
        "res",
        "next",
        "isSecure",
        "secure",
        "header",
        "redirect",
        "hostname",
        "url",
        "routes",
        "then",
        "meData",
        "meDetail",
        "catch",
        "err",
        "console",
        "error",
        "categoriesData",
        "categoriesDetail",
        "productsData",
        "productsDetail",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;;;AASA,MAAMA,GAAG,GAAG,uBAAZ,C,CAEA;;AACAA,GAAG,CAACC,GAAJ,CAAQ,4BAAc,6BAAd,CAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR,E,CAEA;;AACAJ,GAAG,CAACK,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACAL,GAAG,CAACK,GAAJ,CAAQ,OAAR,EAAiB,aAAjB,E,CAEA;;AACA,wBAAaL,GAAb;AAEAA,GAAG,CAACC,GAAJ,CACE,mBAAK;AACHK,EAAAA,MAAM,EAAE,CAAC,wBAAD,CADL;AAEHC,EAAAA,WAAW,EAAE;AAFV,CAAL,CADF;AAOAP,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaO,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,QAAjC,CAAf,CAAb;;AAEA,MAAMC,kBAAkB,GAAGH,cAAKC,IAAL,CACzBC,SADyB,EAEzB,IAFyB,EAGzB,IAHyB,EAIzB,QAJyB,EAKzB,MALyB,EAMzB,eANyB,CAA3B;;AAQA,MAAME,sBAAsB,GAC1B,gCAAqB,YAArB,GACIC,gBAAOC,sBAAP,CAA8BH,kBAA9B,CADJ,GAEIE,gBAAOE,oBAAP,CAA4BJ,kBAA5B,CAHN;AAKAb,GAAG,CAACkB,MAAJ,CAAWH,MAAX,GAAoBA,gBAAOI,oBAAP,CAClBL,sBADkB,EAElB,OAFkB,CAApB;AAKAd,GAAG,CAACC,GAAJ,CAAQ,CAACmB,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1B,QAAMC,QAAQ,GAAGH,GAAG,CAACI,MAAJ,IAAcJ,GAAG,CAACK,MAAJ,CAAW,mBAAX,MAAoC,OAAnE;;AAEA,MAAI,iCAAsB,CAACF,QAA3B,EAAqC;AACnCF,IAAAA,GAAG,CAACK,QAAJ,CAAc,WAAUN,GAAG,CAACO,QAAS,GAAEP,GAAG,CAACQ,GAAI,EAA/C;AACD,GAFD,MAEO;AACLN,IAAAA,IAAI;AACL;AACF,CARD;AAUAtB,GAAG,CAACC,GAAJ,CAAQ4B,YAAR;AAEA,mBACGC,IADH,CACSC,MAAD,IAAY;AAChB/B,EAAAA,GAAG,CAACkB,MAAJ,CAAWc,QAAX,GAAsBD,MAAtB;AACD,CAHH,EAIGE,KAJH,CAIUC,GAAD,IAAS;AACdC,EAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,CANH;AAQA,yBAAgB,0BAAhB,EACGJ,IADH,CACSO,cAAD,IAAoB;AACxBrC,EAAAA,GAAG,CAACkB,MAAJ,CAAWoB,gBAAX,GAA8BD,cAA9B;AACD,CAHH,EAIGJ,KAJH,CAIUC,GAAD,IAAS;AACdC,EAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,CANH;AAQA,uBAAc,wBAAd,EACGJ,IADH,CACSS,YAAD,IAAkB;AACtBvC,EAAAA,GAAG,CAACkB,MAAJ,CAAWsB,cAAX,GAA4BD,YAA5B;AACD,CAHH,EAIGN,KAJH,CAIUC,GAAD,IAAS;AACdC,EAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,CANH;AAQAO,MAAM,CAACC,OAAP,GAAiB1C,GAAjB",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "sourcesContent": [
        "import express from \"express\";\nimport cookieSession from \"cookie-session\";\nimport bodyParser from \"body-parser\";\nimport path from \"path\";\nimport morgan from \"morgan\";\nimport cors from \"cors\";\n\nimport assets from \"./controllers/assets.controller\";\nimport routes from \"./app.routes\";\n\nimport { setupAppAuth } from \"./services/auth\";\nimport fetchCategories from \"./services/categories\";\nimport fetchProducts from \"./services/products\";\nimport fetchMe from \"./services/me\";\n\nimport {\n  getMe,\n  getCategories,\n  getProducts,\n  getSessionConfig,\n  getEnvironment,\n  shouldEnforceSSL,\n} from \"./app.config\";\n\nconst app = express();\n\n//app.use(morgan(\"tiny\"));\napp.use(cookieSession(getSessionConfig()));\napp.use(bodyParser.urlencoded({ extended: false }));\n\n// set the template engine ejs\napp.set(\"view engine\", \"ejs\");\napp.set(\"views\", \"./app/views\");\n\n// use authentication\nsetupAppAuth(app);\n\napp.use(\n  cors({\n    origin: [\"https://localhost:3003\"],\n    credentials: true,\n  })\n);\n\napp.use(\"/\", express.static(path.join(__dirname, \"..\", \"..\", \"public\")));\n\nconst assetsManifestFile = path.join(\n  __dirname,\n  \"..\",\n  \"..\",\n  \"public\",\n  \"dist\",\n  \"manifest.json\"\n);\nconst assetsManifestResolver =\n  getEnvironment() === \"production\"\n    ? assets.staticManifestResolver(assetsManifestFile)\n    : assets.lazyManifestResolver(assetsManifestFile);\n\napp.locals.assets = assets.createAssetsResolver(\n  assetsManifestResolver,\n  \"/dist\"\n);\n\napp.use((req, res, next) => {\n  const isSecure = req.secure || req.header(\"x-forwarded-proto\") === \"https\";\n\n  if (shouldEnforceSSL() && !isSecure) {\n    res.redirect(`https://${req.hostname}${req.url}`);\n  } else {\n    next();\n  }\n});\n\napp.use(routes);\n\nfetchMe()\n  .then((meData) => {\n    app.locals.meDetail = meData;\n  })\n  .catch((err) => {\n    console.error(err);\n  });\n\nfetchCategories(getCategories())\n  .then((categoriesData) => {\n    app.locals.categoriesDetail = categoriesData;\n  })\n  .catch((err) => {\n    console.error(err);\n  });\n\nfetchProducts(getProducts())\n  .then((productsData) => {\n    app.locals.productsDetail = productsData;\n  })\n  .catch((err) => {\n    console.error(err);\n  });\n\nmodule.exports = app;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592365999853
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/assets.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/assets.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/assets.controller.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/assets.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/",
        "sourceFileName": "assets.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst staticManifestResolver = manifestFile => {\n  const manifestData = _fs.default.readFileSync(manifestFile);\n\n  const manifest = JSON.parse(manifestData);\n  return () => manifest;\n};\n\nconst lazyManifestResolver = manifestPath => () => {\n  const resolver = staticManifestResolver(manifestPath);\n  return resolver();\n};\n\nconst createAssetsResolver = (manifestResolver, assetsBasePath) => {\n  const getAssetUrl = assetName => {\n    const manifest = manifestResolver();\n    const asset = manifest[assetName] || assetName;\n    return `${assetsBasePath}/${asset}`;\n  };\n\n  return {\n    url: getAssetUrl\n  };\n};\n\nvar _default = {\n  staticManifestResolver,\n  lazyManifestResolver,\n  createAssetsResolver\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbInN0YXRpY01hbmlmZXN0UmVzb2x2ZXIiLCJtYW5pZmVzdEZpbGUiLCJtYW5pZmVzdERhdGEiLCJmcyIsInJlYWRGaWxlU3luYyIsIm1hbmlmZXN0IiwiSlNPTiIsInBhcnNlIiwibGF6eU1hbmlmZXN0UmVzb2x2ZXIiLCJtYW5pZmVzdFBhdGgiLCJyZXNvbHZlciIsImNyZWF0ZUFzc2V0c1Jlc29sdmVyIiwibWFuaWZlc3RSZXNvbHZlciIsImFzc2V0c0Jhc2VQYXRoIiwiZ2V0QXNzZXRVcmwiLCJhc3NldE5hbWUiLCJhc3NldCIsInVybCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsc0JBQXNCLEdBQUlDLFlBQUQsSUFBa0I7QUFDL0MsUUFBTUMsWUFBWSxHQUFHQyxZQUFHQyxZQUFILENBQWdCSCxZQUFoQixDQUFyQjs7QUFDQSxRQUFNSSxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXTCxZQUFYLENBQWpCO0FBRUEsU0FBTyxNQUFNRyxRQUFiO0FBQ0QsQ0FMRDs7QUFPQSxNQUFNRyxvQkFBb0IsR0FBR0MsWUFBWSxJQUFJLE1BQU07QUFDakQsUUFBTUMsUUFBUSxHQUFHVixzQkFBc0IsQ0FBQ1MsWUFBRCxDQUF2QztBQUNBLFNBQU9DLFFBQVEsRUFBZjtBQUNELENBSEQ7O0FBTUEsTUFBTUMsb0JBQW9CLEdBQUcsQ0FBQ0MsZ0JBQUQsRUFBbUJDLGNBQW5CLEtBQXNDO0FBQ2pFLFFBQU1DLFdBQVcsR0FBSUMsU0FBRCxJQUFlO0FBQ2pDLFVBQU1WLFFBQVEsR0FBR08sZ0JBQWdCLEVBQWpDO0FBQ0EsVUFBTUksS0FBSyxHQUFHWCxRQUFRLENBQUNVLFNBQUQsQ0FBUixJQUF1QkEsU0FBckM7QUFFQSxXQUFRLEdBQUVGLGNBQWUsSUFBR0csS0FBTSxFQUFsQztBQUNELEdBTEQ7O0FBT0EsU0FBTztBQUNMQyxJQUFBQSxHQUFHLEVBQUVIO0FBREEsR0FBUDtBQUdELENBWEQ7O2VBY2U7QUFBRWQsRUFBQUEsc0JBQUY7QUFBMEJRLEVBQUFBLG9CQUExQjtBQUFnREcsRUFBQUE7QUFBaEQsQyIsInNvdXJjZVJvb3QiOiIvaG9tZS9udDAxNTgvRG9jdW1lbnRvcy9NYXRoZXVzL3NhbGVzX3doYXRzYXBwL2JhY2tlbmQvYXBwL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tIFwiZnNcIjtcblxuY29uc3Qgc3RhdGljTWFuaWZlc3RSZXNvbHZlciA9IChtYW5pZmVzdEZpbGUpID0+IHtcbiAgY29uc3QgbWFuaWZlc3REYXRhID0gZnMucmVhZEZpbGVTeW5jKG1hbmlmZXN0RmlsZSk7XG4gIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShtYW5pZmVzdERhdGEpO1xuXG4gIHJldHVybiAoKSA9PiBtYW5pZmVzdDtcbn07XG5cbmNvbnN0IGxhenlNYW5pZmVzdFJlc29sdmVyID0gbWFuaWZlc3RQYXRoID0+ICgpID0+IHtcbiAgY29uc3QgcmVzb2x2ZXIgPSBzdGF0aWNNYW5pZmVzdFJlc29sdmVyKG1hbmlmZXN0UGF0aCk7XG4gIHJldHVybiByZXNvbHZlcigpO1xufTtcblxuXG5jb25zdCBjcmVhdGVBc3NldHNSZXNvbHZlciA9IChtYW5pZmVzdFJlc29sdmVyLCBhc3NldHNCYXNlUGF0aCkgPT4ge1xuICBjb25zdCBnZXRBc3NldFVybCA9IChhc3NldE5hbWUpID0+IHtcbiAgICBjb25zdCBtYW5pZmVzdCA9IG1hbmlmZXN0UmVzb2x2ZXIoKTtcbiAgICBjb25zdCBhc3NldCA9IG1hbmlmZXN0W2Fzc2V0TmFtZV0gfHwgYXNzZXROYW1lO1xuXG4gICAgcmV0dXJuIGAke2Fzc2V0c0Jhc2VQYXRofS8ke2Fzc2V0fWA7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICB1cmw6IGdldEFzc2V0VXJsLFxuICB9O1xufTtcblxuXG5leHBvcnQgZGVmYXVsdCB7IHN0YXRpY01hbmlmZXN0UmVzb2x2ZXIsIGxhenlNYW5pZmVzdFJlc29sdmVyLCBjcmVhdGVBc3NldHNSZXNvbHZlciB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "assets.controller.js"
      ],
      "names": [
        "staticManifestResolver",
        "manifestFile",
        "manifestData",
        "fs",
        "readFileSync",
        "manifest",
        "JSON",
        "parse",
        "lazyManifestResolver",
        "manifestPath",
        "resolver",
        "createAssetsResolver",
        "manifestResolver",
        "assetsBasePath",
        "getAssetUrl",
        "assetName",
        "asset",
        "url"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,sBAAsB,GAAIC,YAAD,IAAkB;AAC/C,QAAMC,YAAY,GAAGC,YAAGC,YAAH,CAAgBH,YAAhB,CAArB;;AACA,QAAMI,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWL,YAAX,CAAjB;AAEA,SAAO,MAAMG,QAAb;AACD,CALD;;AAOA,MAAMG,oBAAoB,GAAGC,YAAY,IAAI,MAAM;AACjD,QAAMC,QAAQ,GAAGV,sBAAsB,CAACS,YAAD,CAAvC;AACA,SAAOC,QAAQ,EAAf;AACD,CAHD;;AAMA,MAAMC,oBAAoB,GAAG,CAACC,gBAAD,EAAmBC,cAAnB,KAAsC;AACjE,QAAMC,WAAW,GAAIC,SAAD,IAAe;AACjC,UAAMV,QAAQ,GAAGO,gBAAgB,EAAjC;AACA,UAAMI,KAAK,GAAGX,QAAQ,CAACU,SAAD,CAAR,IAAuBA,SAArC;AAEA,WAAQ,GAAEF,cAAe,IAAGG,KAAM,EAAlC;AACD,GALD;;AAOA,SAAO;AACLC,IAAAA,GAAG,EAAEH;AADA,GAAP;AAGD,CAXD;;eAce;AAAEd,EAAAA,sBAAF;AAA0BQ,EAAAA,oBAA1B;AAAgDG,EAAAA;AAAhD,C",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/controllers/",
      "sourcesContent": [
        "import fs from \"fs\";\n\nconst staticManifestResolver = (manifestFile) => {\n  const manifestData = fs.readFileSync(manifestFile);\n  const manifest = JSON.parse(manifestData);\n\n  return () => manifest;\n};\n\nconst lazyManifestResolver = manifestPath => () => {\n  const resolver = staticManifestResolver(manifestPath);\n  return resolver();\n};\n\n\nconst createAssetsResolver = (manifestResolver, assetsBasePath) => {\n  const getAssetUrl = (assetName) => {\n    const manifest = manifestResolver();\n    const asset = manifest[assetName] || assetName;\n\n    return `${assetsBasePath}/${asset}`;\n  };\n\n  return {\n    url: getAssetUrl,\n  };\n};\n\n\nexport default { staticManifestResolver, lazyManifestResolver, createAssetsResolver };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1589291082000
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.routes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.routes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.routes.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/app.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
        "sourceFileName": "app.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _authenticate = _interopRequireDefault(require(\"./middlewares/authenticate\"));\n\nvar _auth = require(\"./services/auth\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nconst routes = {\n  loginPath: \"/\",\n  getMe: \"/me\",\n  getUser: \"/user\",\n  logoutPath: \"/auth/logout\",\n  listCategoriesPath: \"/categories\",\n  listProductsPath: \"/products\",\n  loginStrategyPath: `/auth/${_auth.authStrategy}`,\n  loginStrategyCallbackPath: `/auth/${_auth.authStrategy}/callback`,\n  homePath: \"https://localhost:3003/\"\n};\nrouter.get(routes.loginPath, (req, res) => {\n  if ((0, _auth.isUserLoggedIn)(req)) {\n    return res.redirect(routes.homePath);\n  }\n\n  return res.render(\"index\", {\n    error: req.query.error\n  });\n});\nrouter.get(routes.listCategoriesPath, (req, res) => {\n  res.json(req.app.locals.categoriesDetail);\n});\nrouter.get(routes.listProductsPath, (req, res) => {\n  res.json(req.app.locals.productsDetail);\n});\nrouter.get(routes.getMe, (req, res) => {\n  res.json(req.app.locals.meDetail);\n});\nrouter.get(routes.getUser, (0, _authenticate.default)(), (req, res) => {\n  res.json((0, _auth.currentUser)(req));\n});\nrouter.get(routes.loginStrategyPath, (0, _auth.authenticationHandler)());\nrouter.get(routes.loginStrategyCallbackPath, (0, _auth.authenticationCallbackHandler)({\n  successRedirect: routes.homePath,\n  failureRedirect: routes.loginPath\n}));\nrouter.get(routes.logoutPath, (req, res) => {\n  (0, _auth.logout)(req);\n  res.redirect(routes.homePath);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5yb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInJvdXRlcyIsImxvZ2luUGF0aCIsImdldE1lIiwiZ2V0VXNlciIsImxvZ291dFBhdGgiLCJsaXN0Q2F0ZWdvcmllc1BhdGgiLCJsaXN0UHJvZHVjdHNQYXRoIiwibG9naW5TdHJhdGVneVBhdGgiLCJhdXRoU3RyYXRlZ3kiLCJsb2dpblN0cmF0ZWd5Q2FsbGJhY2tQYXRoIiwiaG9tZVBhdGgiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZWRpcmVjdCIsInJlbmRlciIsImVycm9yIiwicXVlcnkiLCJqc29uIiwiYXBwIiwibG9jYWxzIiwiY2F0ZWdvcmllc0RldGFpbCIsInByb2R1Y3RzRGV0YWlsIiwibWVEZXRhaWwiLCJzdWNjZXNzUmVkaXJlY3QiLCJmYWlsdXJlUmVkaXJlY3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQVVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQSxNQUFNQyxNQUFNLEdBQUc7QUFDYkMsRUFBQUEsU0FBUyxFQUFFLEdBREU7QUFFYkMsRUFBQUEsS0FBSyxFQUFFLEtBRk07QUFHYkMsRUFBQUEsT0FBTyxFQUFFLE9BSEk7QUFJYkMsRUFBQUEsVUFBVSxFQUFFLGNBSkM7QUFLYkMsRUFBQUEsa0JBQWtCLEVBQUUsYUFMUDtBQU1iQyxFQUFBQSxnQkFBZ0IsRUFBRSxXQU5MO0FBT2JDLEVBQUFBLGlCQUFpQixFQUFHLFNBQVFDLGtCQUFhLEVBUDVCO0FBUWJDLEVBQUFBLHlCQUF5QixFQUFHLFNBQVFELGtCQUFhLFdBUnBDO0FBU2JFLEVBQUFBLFFBQVEsRUFBRTtBQVRHLENBQWY7QUFZQWIsTUFBTSxDQUFDYyxHQUFQLENBQVdYLE1BQU0sQ0FBQ0MsU0FBbEIsRUFBNkIsQ0FBQ1csR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDekMsTUFBSSwwQkFBZUQsR0FBZixDQUFKLEVBQXlCO0FBQ3ZCLFdBQU9DLEdBQUcsQ0FBQ0MsUUFBSixDQUFhZCxNQUFNLENBQUNVLFFBQXBCLENBQVA7QUFDRDs7QUFFRCxTQUFPRyxHQUFHLENBQUNFLE1BQUosQ0FBVyxPQUFYLEVBQW9CO0FBQUVDLElBQUFBLEtBQUssRUFBRUosR0FBRyxDQUFDSyxLQUFKLENBQVVEO0FBQW5CLEdBQXBCLENBQVA7QUFDRCxDQU5EO0FBUUFuQixNQUFNLENBQUNjLEdBQVAsQ0FBV1gsTUFBTSxDQUFDSyxrQkFBbEIsRUFBc0MsQ0FBQ08sR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDbERBLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTTixHQUFHLENBQUNPLEdBQUosQ0FBUUMsTUFBUixDQUFlQyxnQkFBeEI7QUFDRCxDQUZEO0FBSUF4QixNQUFNLENBQUNjLEdBQVAsQ0FBV1gsTUFBTSxDQUFDTSxnQkFBbEIsRUFBb0MsQ0FBQ00sR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDaERBLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTTixHQUFHLENBQUNPLEdBQUosQ0FBUUMsTUFBUixDQUFlRSxjQUF4QjtBQUNELENBRkQ7QUFJQXpCLE1BQU0sQ0FBQ2MsR0FBUCxDQUFXWCxNQUFNLENBQUNFLEtBQWxCLEVBQXlCLENBQUNVLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3JDQSxFQUFBQSxHQUFHLENBQUNLLElBQUosQ0FBU04sR0FBRyxDQUFDTyxHQUFKLENBQVFDLE1BQVIsQ0FBZUcsUUFBeEI7QUFDRCxDQUZEO0FBSUExQixNQUFNLENBQUNjLEdBQVAsQ0FBV1gsTUFBTSxDQUFDRyxPQUFsQixFQUEyQiw0QkFBM0IsRUFBMkMsQ0FBQ1MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkRBLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTLHVCQUFZTixHQUFaLENBQVQ7QUFDRCxDQUZEO0FBSUFmLE1BQU0sQ0FBQ2MsR0FBUCxDQUFXWCxNQUFNLENBQUNPLGlCQUFsQixFQUFxQyxrQ0FBckM7QUFFQVYsTUFBTSxDQUFDYyxHQUFQLENBQ0VYLE1BQU0sQ0FBQ1MseUJBRFQsRUFFRSx5Q0FBOEI7QUFDNUJlLEVBQUFBLGVBQWUsRUFBRXhCLE1BQU0sQ0FBQ1UsUUFESTtBQUU1QmUsRUFBQUEsZUFBZSxFQUFFekIsTUFBTSxDQUFDQztBQUZJLENBQTlCLENBRkY7QUFRQUosTUFBTSxDQUFDYyxHQUFQLENBQVdYLE1BQU0sQ0FBQ0ksVUFBbEIsRUFBOEIsQ0FBQ1EsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDMUMsb0JBQU9ELEdBQVA7QUFDQUMsRUFBQUEsR0FBRyxDQUFDQyxRQUFKLENBQWFkLE1BQU0sQ0FBQ1UsUUFBcEI7QUFDRCxDQUhEO2VBS2ViLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvbnQwMTU4L0RvY3VtZW50b3MvTWF0aGV1cy9zYWxlc193aGF0c2FwcC9iYWNrZW5kL2FwcC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGF1dGhlbnRpY2F0ZSBmcm9tIFwiLi9taWRkbGV3YXJlcy9hdXRoZW50aWNhdGVcIjtcbmltcG9ydCB7XG4gIGF1dGhTdHJhdGVneSxcbiAgYXV0aGVudGljYXRpb25IYW5kbGVyLFxuICBhdXRoZW50aWNhdGlvbkNhbGxiYWNrSGFuZGxlcixcbiAgY3VycmVudFVzZXIsXG4gIGxvZ2luLFxuICBsb2dvdXQsXG4gIGlzVXNlckxvZ2dlZEluLFxufSBmcm9tIFwiLi9zZXJ2aWNlcy9hdXRoXCI7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IHJvdXRlcyA9IHtcbiAgbG9naW5QYXRoOiBcIi9cIixcbiAgZ2V0TWU6IFwiL21lXCIsXG4gIGdldFVzZXI6IFwiL3VzZXJcIixcbiAgbG9nb3V0UGF0aDogXCIvYXV0aC9sb2dvdXRcIixcbiAgbGlzdENhdGVnb3JpZXNQYXRoOiBcIi9jYXRlZ29yaWVzXCIsXG4gIGxpc3RQcm9kdWN0c1BhdGg6IFwiL3Byb2R1Y3RzXCIsXG4gIGxvZ2luU3RyYXRlZ3lQYXRoOiBgL2F1dGgvJHthdXRoU3RyYXRlZ3l9YCxcbiAgbG9naW5TdHJhdGVneUNhbGxiYWNrUGF0aDogYC9hdXRoLyR7YXV0aFN0cmF0ZWd5fS9jYWxsYmFja2AsXG4gIGhvbWVQYXRoOiBcImh0dHBzOi8vbG9jYWxob3N0OjMwMDMvXCIsXG59O1xuXG5yb3V0ZXIuZ2V0KHJvdXRlcy5sb2dpblBhdGgsIChyZXEsIHJlcykgPT4ge1xuICBpZiAoaXNVc2VyTG9nZ2VkSW4ocmVxKSkge1xuICAgIHJldHVybiByZXMucmVkaXJlY3Qocm91dGVzLmhvbWVQYXRoKTtcbiAgfVxuXG4gIHJldHVybiByZXMucmVuZGVyKFwiaW5kZXhcIiwgeyBlcnJvcjogcmVxLnF1ZXJ5LmVycm9yIH0pO1xufSk7XG5cbnJvdXRlci5nZXQocm91dGVzLmxpc3RDYXRlZ29yaWVzUGF0aCwgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5qc29uKHJlcS5hcHAubG9jYWxzLmNhdGVnb3JpZXNEZXRhaWwpO1xufSk7XG5cbnJvdXRlci5nZXQocm91dGVzLmxpc3RQcm9kdWN0c1BhdGgsIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbihyZXEuYXBwLmxvY2Fscy5wcm9kdWN0c0RldGFpbCk7XG59KTtcblxucm91dGVyLmdldChyb3V0ZXMuZ2V0TWUsIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbihyZXEuYXBwLmxvY2Fscy5tZURldGFpbCk7XG59KTtcblxucm91dGVyLmdldChyb3V0ZXMuZ2V0VXNlciwgYXV0aGVudGljYXRlKCksIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbihjdXJyZW50VXNlcihyZXEpKTtcbn0pO1xuXG5yb3V0ZXIuZ2V0KHJvdXRlcy5sb2dpblN0cmF0ZWd5UGF0aCwgYXV0aGVudGljYXRpb25IYW5kbGVyKCkpO1xuXG5yb3V0ZXIuZ2V0KFxuICByb3V0ZXMubG9naW5TdHJhdGVneUNhbGxiYWNrUGF0aCxcbiAgYXV0aGVudGljYXRpb25DYWxsYmFja0hhbmRsZXIoe1xuICAgIHN1Y2Nlc3NSZWRpcmVjdDogcm91dGVzLmhvbWVQYXRoLFxuICAgIGZhaWx1cmVSZWRpcmVjdDogcm91dGVzLmxvZ2luUGF0aCxcbiAgfSlcbik7XG5cbnJvdXRlci5nZXQocm91dGVzLmxvZ291dFBhdGgsIChyZXEsIHJlcykgPT4ge1xuICBsb2dvdXQocmVxKTtcbiAgcmVzLnJlZGlyZWN0KHJvdXRlcy5ob21lUGF0aCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "app.routes.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "routes",
        "loginPath",
        "getMe",
        "getUser",
        "logoutPath",
        "listCategoriesPath",
        "listProductsPath",
        "loginStrategyPath",
        "authStrategy",
        "loginStrategyCallbackPath",
        "homePath",
        "get",
        "req",
        "res",
        "redirect",
        "render",
        "error",
        "query",
        "json",
        "app",
        "locals",
        "categoriesDetail",
        "productsDetail",
        "meDetail",
        "successRedirect",
        "failureRedirect"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAUA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,SAAS,EAAE,GADE;AAEbC,EAAAA,KAAK,EAAE,KAFM;AAGbC,EAAAA,OAAO,EAAE,OAHI;AAIbC,EAAAA,UAAU,EAAE,cAJC;AAKbC,EAAAA,kBAAkB,EAAE,aALP;AAMbC,EAAAA,gBAAgB,EAAE,WANL;AAObC,EAAAA,iBAAiB,EAAG,SAAQC,kBAAa,EAP5B;AAQbC,EAAAA,yBAAyB,EAAG,SAAQD,kBAAa,WARpC;AASbE,EAAAA,QAAQ,EAAE;AATG,CAAf;AAYAb,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACC,SAAlB,EAA6B,CAACW,GAAD,EAAMC,GAAN,KAAc;AACzC,MAAI,0BAAeD,GAAf,CAAJ,EAAyB;AACvB,WAAOC,GAAG,CAACC,QAAJ,CAAad,MAAM,CAACU,QAApB,CAAP;AACD;;AAED,SAAOG,GAAG,CAACE,MAAJ,CAAW,OAAX,EAAoB;AAAEC,IAAAA,KAAK,EAAEJ,GAAG,CAACK,KAAJ,CAAUD;AAAnB,GAApB,CAAP;AACD,CAND;AAQAnB,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACK,kBAAlB,EAAsC,CAACO,GAAD,EAAMC,GAAN,KAAc;AAClDA,EAAAA,GAAG,CAACK,IAAJ,CAASN,GAAG,CAACO,GAAJ,CAAQC,MAAR,CAAeC,gBAAxB;AACD,CAFD;AAIAxB,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACM,gBAAlB,EAAoC,CAACM,GAAD,EAAMC,GAAN,KAAc;AAChDA,EAAAA,GAAG,CAACK,IAAJ,CAASN,GAAG,CAACO,GAAJ,CAAQC,MAAR,CAAeE,cAAxB;AACD,CAFD;AAIAzB,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACE,KAAlB,EAAyB,CAACU,GAAD,EAAMC,GAAN,KAAc;AACrCA,EAAAA,GAAG,CAACK,IAAJ,CAASN,GAAG,CAACO,GAAJ,CAAQC,MAAR,CAAeG,QAAxB;AACD,CAFD;AAIA1B,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACG,OAAlB,EAA2B,4BAA3B,EAA2C,CAACS,GAAD,EAAMC,GAAN,KAAc;AACvDA,EAAAA,GAAG,CAACK,IAAJ,CAAS,uBAAYN,GAAZ,CAAT;AACD,CAFD;AAIAf,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACO,iBAAlB,EAAqC,kCAArC;AAEAV,MAAM,CAACc,GAAP,CACEX,MAAM,CAACS,yBADT,EAEE,yCAA8B;AAC5Be,EAAAA,eAAe,EAAExB,MAAM,CAACU,QADI;AAE5Be,EAAAA,eAAe,EAAEzB,MAAM,CAACC;AAFI,CAA9B,CAFF;AAQAJ,MAAM,CAACc,GAAP,CAAWX,MAAM,CAACI,UAAlB,EAA8B,CAACQ,GAAD,EAAMC,GAAN,KAAc;AAC1C,oBAAOD,GAAP;AACAC,EAAAA,GAAG,CAACC,QAAJ,CAAad,MAAM,CAACU,QAApB;AACD,CAHD;eAKeb,M",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/",
      "sourcesContent": [
        "import express from \"express\";\nimport authenticate from \"./middlewares/authenticate\";\nimport {\n  authStrategy,\n  authenticationHandler,\n  authenticationCallbackHandler,\n  currentUser,\n  login,\n  logout,\n  isUserLoggedIn,\n} from \"./services/auth\";\n\nconst router = express.Router();\n\nconst routes = {\n  loginPath: \"/\",\n  getMe: \"/me\",\n  getUser: \"/user\",\n  logoutPath: \"/auth/logout\",\n  listCategoriesPath: \"/categories\",\n  listProductsPath: \"/products\",\n  loginStrategyPath: `/auth/${authStrategy}`,\n  loginStrategyCallbackPath: `/auth/${authStrategy}/callback`,\n  homePath: \"https://localhost:3003/\",\n};\n\nrouter.get(routes.loginPath, (req, res) => {\n  if (isUserLoggedIn(req)) {\n    return res.redirect(routes.homePath);\n  }\n\n  return res.render(\"index\", { error: req.query.error });\n});\n\nrouter.get(routes.listCategoriesPath, (req, res) => {\n  res.json(req.app.locals.categoriesDetail);\n});\n\nrouter.get(routes.listProductsPath, (req, res) => {\n  res.json(req.app.locals.productsDetail);\n});\n\nrouter.get(routes.getMe, (req, res) => {\n  res.json(req.app.locals.meDetail);\n});\n\nrouter.get(routes.getUser, authenticate(), (req, res) => {\n  res.json(currentUser(req));\n});\n\nrouter.get(routes.loginStrategyPath, authenticationHandler());\n\nrouter.get(\n  routes.loginStrategyCallbackPath,\n  authenticationCallbackHandler({\n    successRedirect: routes.homePath,\n    failureRedirect: routes.loginPath,\n  })\n);\n\nrouter.get(routes.logoutPath, (req, res) => {\n  logout(req);\n  res.redirect(routes.homePath);\n});\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592366065178
  },
  "{\"sourceRoot\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"filename\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/authenticate.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/nt0158/Documentos/Matheus/sales_whatsapp/backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/authenticate.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/authenticate.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/authenticate.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/",
        "sourceFileName": "authenticate.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = authenticate;\n\nvar _auth = require(\"../services/auth\");\n\nfunction authenticate(opts) {\n  const loginPath = opts === null || opts === void 0 ? void 0 : opts.loginPath;\n  return (req, resp, next) => {\n    if ((0, _auth.isUserLoggedIn)(req)) {\n      return next();\n    }\n\n    if (loginPath) {\n      return resp.status(401).redirect(loginPath);\n    }\n\n    resp.sendStatus(401);\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0ZS5qcyJdLCJuYW1lcyI6WyJhdXRoZW50aWNhdGUiLCJvcHRzIiwibG9naW5QYXRoIiwicmVxIiwicmVzcCIsIm5leHQiLCJzdGF0dXMiLCJyZWRpcmVjdCIsInNlbmRTdGF0dXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFZSxTQUFTQSxZQUFULENBQXNCQyxJQUF0QixFQUE0QjtBQUN6QyxRQUFNQyxTQUFTLEdBQUdELElBQUgsYUFBR0EsSUFBSCx1QkFBR0EsSUFBSSxDQUFFQyxTQUF4QjtBQUVBLFNBQU8sQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLElBQVosS0FBcUI7QUFDMUIsUUFBSSwwQkFBZUYsR0FBZixDQUFKLEVBQXlCO0FBQ3ZCLGFBQU9FLElBQUksRUFBWDtBQUNEOztBQUVELFFBQUlILFNBQUosRUFBZTtBQUNiLGFBQU9FLElBQUksQ0FBQ0UsTUFBTCxDQUFZLEdBQVosRUFBaUJDLFFBQWpCLENBQTBCTCxTQUExQixDQUFQO0FBQ0Q7O0FBRURFLElBQUFBLElBQUksQ0FBQ0ksVUFBTCxDQUFnQixHQUFoQjtBQUNELEdBVkQ7QUFXRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9udDAxNTgvRG9jdW1lbnRvcy9NYXRoZXVzL3NhbGVzX3doYXRzYXBwL2JhY2tlbmQvYXBwL21pZGRsZXdhcmVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVXNlckxvZ2dlZEluIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2F1dGhcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0aGVudGljYXRlKG9wdHMpIHtcbiAgY29uc3QgbG9naW5QYXRoID0gb3B0cz8ubG9naW5QYXRoO1xuXG4gIHJldHVybiAocmVxLCByZXNwLCBuZXh0KSA9PiB7XG4gICAgaWYgKGlzVXNlckxvZ2dlZEluKHJlcSkpIHtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuXG4gICAgaWYgKGxvZ2luUGF0aCkge1xuICAgICAgcmV0dXJuIHJlc3Auc3RhdHVzKDQwMSkucmVkaXJlY3QobG9naW5QYXRoKTtcbiAgICB9XG5cbiAgICByZXNwLnNlbmRTdGF0dXMoNDAxKTtcbiAgfTtcbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "authenticate.js"
      ],
      "names": [
        "authenticate",
        "opts",
        "loginPath",
        "req",
        "resp",
        "next",
        "status",
        "redirect",
        "sendStatus"
      ],
      "mappings": ";;;;;;;AAAA;;AAEe,SAASA,YAAT,CAAsBC,IAAtB,EAA4B;AACzC,QAAMC,SAAS,GAAGD,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEC,SAAxB;AAEA,SAAO,CAACC,GAAD,EAAMC,IAAN,EAAYC,IAAZ,KAAqB;AAC1B,QAAI,0BAAeF,GAAf,CAAJ,EAAyB;AACvB,aAAOE,IAAI,EAAX;AACD;;AAED,QAAIH,SAAJ,EAAe;AACb,aAAOE,IAAI,CAACE,MAAL,CAAY,GAAZ,EAAiBC,QAAjB,CAA0BL,SAA1B,CAAP;AACD;;AAEDE,IAAAA,IAAI,CAACI,UAAL,CAAgB,GAAhB;AACD,GAVD;AAWD",
      "sourceRoot": "/home/nt0158/Documentos/Matheus/sales_whatsapp/backend/app/middlewares/",
      "sourcesContent": [
        "import { isUserLoggedIn } from \"../services/auth\";\n\nexport default function authenticate(opts) {\n  const loginPath = opts?.loginPath;\n\n  return (req, resp, next) => {\n    if (isUserLoggedIn(req)) {\n      return next();\n    }\n\n    if (loginPath) {\n      return resp.status(401).redirect(loginPath);\n    }\n\n    resp.sendStatus(401);\n  };\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1589291082000
  }
}